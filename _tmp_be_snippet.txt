  vec4 mixed = texture(tScene, uv);
  mixed.rgb = contrast(mixed.rgb, 1.65);
  mixed.rgb = saturation(mixed.rgb, .5);

  FragColor = vec4(mixed.rgb, 1.);

  #include <tonemapping_fragment>
}
`;class Y1 extends mt{constructor(){super({glslVersion:lt,toneMapped:!1,uniforms:{tScene:new I(null),tBloom:new I(null),tBlur:new I(null),tFluid:new I(null),tMouseSim:new I(null),boolBloom:new I(!1),boolFluid:new I(!1),boolLuminosity:new I(!1),boolFxaa:new I(!1)},vertexShader:el,fragmentShader:q1,blending:ot,transparent:!0,depthWrite:!1,depthTest:!1})}}class K1 extends Lu{constructor(e,t,n){super(e,t,n),this.compositeMaterial=new Y1}initSettings(){this.settings={renderToScreen:!1,fxaa:{enabled:!1},mousesim:{enabled:!1},luminosity:{threshold:.1,smoothing:.95,enabled:!1},bloom:{strength:.15,radius:1.5,enabled:!1},blur:{scale:1,strength:8,enabled:!1},fluid:{enabled:!1,mouseForce:25,cursorSize:20,delta:.019,poissonIterations:1,bounce:!1}}}}const Z1={AMBIENT_COLOR:"#fff",AMBIENT_INTENSITY:1,LIGHT_1_POS:{x:-1.5,y:1.1,z:2.4},LIGHT_1_COLOR:"#b2b2b2",LIGHT_1_INTENSITY:10.456521739130435,LIGHT_2_POS:{x:10.5,y:100.1,z:2.4},LIGHT_2_COLOR:"green",LIGHT_2_INTENSITY:10,LIGHT_3_POS:{x:.5,y:80,z:-100},LIGHT_3_COLOR:"green",LIGHT_3_INTENSITY:7,SHADOW_NORMAL_BIAS:.01,SHADOW_RADIUS:10,SHADOW_CAMERA_FAR:43.47826086956522,LOGO_SCALE:.7,LOGO_COLOR:"#ffffff",BACKGROUND_COLOR:"#1a1a1a",FOG_COLOR:"A294FF",FOG_NEAR:17.391304347826086,FOG_FAR:35.869565217391305,PARTICLES_COLOR:"#5b5b5b",FLUID_ENABLED:!1,FXAA_ENABLED:!1,LUMINOSITY_ENABLED:!0,BLOOM_ENABLED:!0,CAMERA_POS:{x:0,y:.5,z:4.5},CAMERA_FOV:40,ROUGHNESS_INTENSITY:.9456521739130435,ENVMAP_INTENSITY:1,EMISSIVE_INTENSITY:.5,METALNESS_INTENSITY:1,ROUGHNESS_PATTERN_INTENSITY:1,ROUGHNESS_PATTERN_CONTRAST:3.1521739130434785,ROUGHNESS_PATTERN_SCALE:16.304347826086957,ROUGHNESS_DISTORTION_INTENSITY:0,ROUGHNESS_DISTORTION_SCALE:6.521739130434783,SHADER_1_ALPHA:.5,SHADER_1_SPEED:0,SHADER_1_SCALE:5.5,SHADER_2_ALPHA:0,SHADER_2_SCALE:13,SHADER_3_ALPHA:0,SHADER_3_SPEED:0,SHADER_3_SCALE:0,SHADER_1_MIX_3:1};class J1{constructor(e){this.gl=e,this.lights=[],this.addAmbientLight()}addAmbientLight(){const{AMBIENT_COLOR:e,AMBIENT_INTENSITY:t}=Z1;this.ambientLight=new eg(e,5),this.gl.scene.add(this.ambientLight),this.directionalLight=new So("#ff9d00",3),this.directionalLight.position.set(2,-1,-1),this.gl.scene.add(this.directionalLight),this.directionalLight2=new So("blue",2),this.directionalLight2.position.set(-1,1,0),this.gl.scene.add(this.directionalLight2)}}class Q1 extends rt{constructor(e){super(),this.params={horizontal:!0,vertical:!1,dampingFactor:5},Object.assign(this.params,e),this.enabled=!0,this.onMouseDown=this.onMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.progress=0,this.drag={xLerp:0,yLerp:0,zLerp:0,x:0,y:0},this.targetRotationOnMouseDown={x:0,y:0},this.currentRotation={x:0,y:0},this.targetRotation={x:0,y:0},this.currentMove={x:0,y:0},this.mouseOnMouseDown={x:0,y:0},this.finalRotationY=0,this.isPointerDown=!1,this.pointer={x:innerWidth/2,y:innerHeight/2}}addEvents(){const e={passive:!0},t="ontouchmove"in window?"touchstart":"mousedown",n="ontouchmove"in window?"touchmove":"mousemove",i="ontouchmove"in window?"touchend":"mouseup";window.addEventListener(t,this.onMouseDown,e),window.addEventListener(n,this.onMouseMove,e),window.addEventListener(i,this.onMouseUp)}removeEvents(){const e="ontouchmove"in window?"touchstart":"mousedown",t="ontouchmove"in window?"touchmove":"mousemove",n="ontouchmove"in window?"touchend":"mouseup";window.removeEventListener(e,this.onMouseDown),window.removeEventListener(t,this.onMouseMove),window.removeEventListener(n,this.onMouseUp)}onMouseDown(e){this.isPointerDown||(this.isPointerDown=!0,this.pointer.x=e.touches?e.touches[0].clientX:e.clientX,this.pointer.y=e.touches?e.touches[0].clientY:e.clientY,this.targetRotationOnMouseDown.x=this.targetRotation.x,this.targetRotationOnMouseDown.y=this.targetRotation.y)}onMouseMove(e){if(!this.isPointerDown)return;const t=e.touches?e.touches[0].clientX:e.clientX,n=e.touches?e.touches[0].clientY:e.clientY;this.currentMove.x=t-this.pointer.x,this.currentMove.y=n-this.pointer.y,this.targetRotation.y=this.targetRotationOnMouseDown.y+(this.currentMove.y-this.mouseOnMouseDown.y)*.01,this.targetRotation.x=this.targetRotationOnMouseDown.x+(this.currentMove.x+this.mouseOnMouseDown.x)*.01}onMouseUp(){this.isPointerDown=!1}update(e){if(this.enabled){const{horizontal:t,vertical:n}=this.params;if(t){const i=this.targetRotation.x;this.rotation.y=Yi(this.rotation.y,i,this.params.dampingFactor,e)}if(n){const i=this.targetRotation.y;this.rotation.x=Yi(this.rotation.x,i,this.params.dampingFactor,e)}}}}class eD extends rt{constructor(e){super(e),this.gl=e,this.cameraPanGroup=new rt,this.mouse=new Q(.5,.5),this.settings={size:.0065,scale:.125},this.rotatableMesh=new Q1({horizontal:!0,vertical:!1}),this.init(),this.scale.set(this.settings.scale,this.settings.scale,this.settings.scale),this.rotatableMesh.add(this),this.cameraPanGroup.add(this.rotatableMesh),e.scene.add(this.cameraPanGroup)}async init(){await this.getModel()}async getModel(){const e=await jt.characterModel;this.modelTextured=e.scene.children[0],this.position.set(0,-.05,0),this.add(this.modelTextured)}resize(e,t,n){Pe.w>=Le.BREAKPOINTS.LG?this.settings.scale=.145:this.settings.scale=.085,this.scale.set(this.settings.scale,this.settings.scale,this.settings.scale)}update(e,t,n){this.rotatingActive||this.rotatableMesh.update(t),this.mouse.x=zn(this.mouse.x,Pe.mouse.normalized.x,.1),this.mouse.y=zn(this.mouse.y,Pe.mouse.normalized.y,.1),this.cameraPanGroup.rotation.x=bo(zn(this.cameraPanGroup.rotation.x,-this.mouse.y+.5,2*t),-.15,.3),this.rotation.y+=t*1}}class tD extends Iu{async init(){super.init(),await jt.thumbsReady,this.backgroundColor=new ye("black").convertLinearToSRGB(),this.scene.background=this.backgroundColor,this.lights=this.add(J1),this.character=this.add(eD)}setRenderManager(){this.renderManager=new K1(this.renderer,this.scene,this.camera)}setCameraControllerSettings(){}setCameraController(){}resize(e,t,n){super.resize(t,t,n)}update(e,t,n,i){super.update(e,t,n,i)}}class nD{constructor(){this.scenes=[],this.id="CANVAS",this.initPromise=new Promise(e=>{this.initResolve=e})}async init(){jt.initLoaders(),this.canvasEl=document.querySelector(".gl"),this.renderer=new qw(this.canvasEl),this.anisotropy=this.renderer.capabilities.getMaxAnisotropy(),this.update=this.update.bind(this),this.addEvents(),this.skyScene=new V1(this),this.workScene=new p1(this),this.workThumbScene=new T1(this),this.mainScene=new U1(this),this.wavvesScene=new k1(this),this.mediaScene=new $1(this),this.characterScene=new tD(this),this.addScene(this.skyScene,"sky"),this.addScene(this.mediaScene,"media"),this.addScene(this.workScene,"work"),this.addScene(this.mainScene,"main"),this.addScene(this.workThumbScene,"workthumb"),this.addScene(this.wavvesScene,"wavves"),this.addScene(this.characterScene,"character"),pe.emit(xe.RESIZE),await fn(100),this.mainScene.renderManager.compositeMaterial.uniforms.tWork.value=this.workScene.renderManager.renderTargetComposite.texture,this.mainScene.renderManager.compositeMaterial.uniforms.tMedia.value=this.mediaScene.renderManager.renderTargetComposite.texture,this.mainScene.renderManager.compositeMaterial.uniforms.tMouseSim.value=this.workScene.renderManager.mouseSimulation.bufferSim.output.texture;const e=this.skyScene.renderManager.renderTargetComposite.texture;e.wrapS=e.wrapT=ci,this.workScene.env.material.customUniforms.tSky.value=e,Qe.debug&&Qe.debug.initPerf(this.renderer),pe.emit(xe.RESIZE),this.start(),this.initResolve()}async animateIn(){await this.initPromise,await jt.blueNoise,await jt.floorNormal,await jt.perlin1,await jt.perlin2,oe.fromTo(this.canvasEl,{opacity:0},{opacity:1,duration:.5,ease:"none"})}start(){kt.add(this.update,this.id)}addEvents(){pe.on(xe.RESIZE,this.resize)}removeEvents(){pe.off(xe.RESIZE,this.resize)}update({time:e,delta:t,frame:n,fps:i}){if(Qe.debug&&Qe.debug.begin(n),this.scenes.length)for(let r=0;r<this.scenes.length;r++)this.scenes[r].instance.update(e,t,n,i);Qe.debug&&Qe.debug.end(n)}resize=()=>{const{w:e,h:t,dpr:n}=Pe;if(this.renderer.resize(e,t,n),this.scenes.length<1)return!1;for(let i=0;i<this.scenes.length;i++)this.scenes[i].instance.resize(e,t,n)};addScene(e,t){return this.scenes.push({id:t,instance:e}),e}removeScene(e){const t=this.scenes.findIndex(n=>n.id===e);t<0||(this.scenes.splice(t,1),this.scenes.length<=0&&this.stop())}}const J=new nD;class Sg extends zt{constructor({content:e,page:t,title:n,wrapper:i}){super(i.lastElementChild,t,ga("view"),"View",!1),this._contentString=e.outerHTML,this._DOM=null,this.title=n,this.wrapper=i}onEnter(){}onEnterCompleted(){}onLeave(){}onLeaveCompleted(){}update(){document.title=this.title,this.wrapper.appendChild(this._DOM.firstElementChild),this.el=this.wrapper.lastElementChild,this._DOM=null}createDom(){this._DOM||(this._DOM=document.createElement("div"),this._DOM.innerHTML=this._contentString)}remove(){this.wrapper.firstElementChild.remove()}enter(e,t){return new Promise(n=>{this.init(),this.addEvents(),e.enter({trigger:t,to:this.el}).then(()=>{this.onEnterCompleted(),n()})})}leave(e,t,n){return new Promise(i=>{this.onLeave(),e.leave({trigger:t,from:this.el}).then(()=>{n&&this.remove(),this.onLeaveCompleted(),this.destroy(),i()})})}}class nl{constructor({wrapper:e}){this.wrapper=e}leave(e){return new Promise(t=>{this.onLeave({...e,done:t})})}enter(e){return new Promise(t=>{this.onEnter({...e,done:t})})}onLeave({from:e,trigger:t,done:n}){n()}onEnter({to:e,trigger:t,done:n}){n()}}function Xn(s){const e=new URL(s,window.location.origin),t=e.hash.length?s.replace(e.hash,""):null;return{hasHash:e.hash.length>0,pathname:e.pathname,host:e.host,raw:s,href:t||e.href}}class ha{static init({views:e={default:Sg},transitions:t={default:nl}}){this.views=e,this.transitions=t,this.defaultView=this.views.default,this.defaultTransition=this.transitions.default,this.cache=new Map,this.isTransitioning=!1,this.currentCacheEntry=null,this.wrapper=document.querySelector("main"),this.removeOldContent=!0,this.allowInterruption=!1,this.bypassCache=!1,this.isPopping=!1,this.active=!0,this.attachEvents("a:not([target]):not([href^=\\#]):not([data-router-ignore])"),this.currentLocation=Xn(window.location.href),this.cache.set(this.currentLocation.href,this.createCacheEntry(document.cloneNode(!0))),this.currentCacheEntry=this.cache.get(this.currentLocation.href),this.currentCacheEntry.view.init(),this.currentCacheEntry.view.addEvents()}static destroy(){pe.off("click","a:not([target]):not([href^=\\#]):not([data-router-ignore])",this.onClick),pe.off("popstate",window,this.onPopstate)}static setDefaultView(e){this.defaultView=this.views[e]}static setDefaultTransition(e){this.defaultTransition=this.transitions[e]}static preload(e,t=!1){return e=Xn(e).href,this.cache.has(e)?Promise.resolve():this.fetch(e,!1).then(async n=>{this.cache.set(e,this.createCacheEntry(n)),t&&this.cache.get(e).view.createDom()})}static updateCache(e){const t=Xn(e||window.location.href).href;this.cache.has(t)&&this.cache.delete(t),this.cache.set(t,this.createCacheEntry(document.cloneNode(!0)))}static clearCache(e){const t=Xn(e||window.location.href).href;this.cache.has(t)&&this.cache.delete(t)}static navigateTo(e,t=!1,n=!1){return new Promise((i,r)=>{if(!this.allowInterruption&&this.isTransitioning){r();return}this.isTransitioning=!0,this.isPopping=!0,this.targetLocation=Xn(e),this.popTarget=window.location.href;const o=new(this.chooseTransition(t))({wrapper:this.wrapper});let a;if(this.bypassCache||!this.cache.has(this.targetLocation.href)||this.cache.get(this.targetLocation.href).skipCache){const c=this.fetch(this.targetLocation.raw).then(u=>{this.cache.set(this.targetLocation.href,this.createCacheEntry(u)),this.cache.get(this.targetLocation.href).view.createDom()});a=this.beforeFetch(this.targetLocation,o,n).then(async()=>c.then(async u=>await this.afterFetch(this.targetLocation,o,this.cache.get(this.targetLocation.href),n)))}else this.cache.get(this.targetLocation.href).view.createDom(),a=this.beforeFetch(this.targetLocation,o,n).then(async()=>await this.afterFetch(this.targetLocation,o,this.cache.get(this.targetLocation.href),n));a.then(()=>{i()})})}static on(e,t){pe.on(e,t)}static off(e,t){pe.off(e,t)}static beforeFetch(e,t,n){return pe.emit(xe.NAVIGATE_OUT,{from:this.currentCacheEntry,trigger:n}),new Promise(i=>{this.currentCacheEntry.view.leave(t,n,this.removeOldContent).then(()=>{n!=="popstate"&&window.history.pushState({},"",e.raw),i()})})}static afterFetch(e,t,n,i){return this.currentLocation=e,this.popTarget=this.currentLocation.href,new Promise(r=>{n.view.update(),pe.emit(xe.NAVIGATE_IN,{from:this.currentCacheEntry,to:n,trigger:i}),n.view.enter(t,i).then(()=>{pe.emit(xe.NAVIGATE_END,{from:this.currentCacheEntry,to:n,trigger:i}),this.currentCacheEntry=n,this.isTransitioning=!1,this.isPopping=!1,r()})})}static attachEvents(e){pe.delegate("click",e,this.onClick),pe.on("popstate",window,this.onPopstate)}static onClick=e=>{if(this.active&&!(e.metaKey||e.ctrlKey)){const t=Xn(e.currentTarget.href);if(this.currentLocation=Xn(window.location.href),this.currentLocation.host!==t.host)return;if(this.currentLocation.href!==t.href||this.currentLocation.hasHash&&!t.hasHash){e.preventDefault(),this.navigateTo(t.raw,e.currentTarget.dataset.transition||!1,e.currentTarget).catch(n=>console.warn(n));return}!this.currentLocation.hasHash&&!t.hasHash&&e.preventDefault()}};static onPopstate=()=>{if(window.location.pathname===this.currentLocation.pathname&&!this.isPopping)return!1;if(!this.allowInterruption&&(this.isTransitioning||this.isPopping))return window.history.pushState({},"",this.popTarget),!1;this.isPopping||(this.popTarget=window.location.href),this.isPopping=!0,this.navigateTo(window.location.href,!1,"popstate")};static async fetch(e,t=!0){try{const n=await fetch(e,{mode:"same-origin",method:"GET",headers:{"X-Requested-With":"rdb"},credentials:"same-origin"});if(!n.ok)throw new Error(n.statusText);const i=await n.text();return N0(i)}catch(n){throw t&&(window.location.href=e),n}}static chooseTransition(e){if(e)return this.transitions[e];const t=this.router?.findMatch(this.currentLocation,this.targetLocation);return t?this.transitions[t]:this.defaultTransition}static createCacheEntry(e){const t=e.querySelector("[data-view]"),n=t.dataset.view.length&&this.views[t.dataset.view]!==void 0?this.views[t.dataset.view]:this.views.default;return n||console.warn(`"${t.dataset.view}" not found.`),{page:e,content:t,skipCache:t.hasAttribute("data-view-nocache"),title:e.title,view:new n({wrapper:this.wrapper,title:e.title,content:t,page:e})}}}class Ki{static init(){this.id="header",this.el=document.querySelector(".ui-header"),this.headerVersion=this.el.querySelector(".ui-header-version > a"),this.headerName=this.el.querySelectorAll(".ui-header-name .ui-header-part-inner"),this.headerDescription=this.el.querySelectorAll(".ui-header-description .ui-header-part-inner"),this.headerAvailibility=this.el.querySelector(".ui-header-availability .ui-header-part-inner"),this.params={duration:1800,ease:"expoOut",stagger:60}}static setPointerEvents(e){this.el.querySelector(".ui-header-name").style.pointerEvents=e}static animateVersionIn(){oe.fromTo(this.headerVersion,{y:"130%"},{y:0,duration:1.8,ease:"expo.out"})}static animateNameIn(){oe.fromTo(this.headerName,{y:"130%",opacity:0},{y:0,delay:.1,opacity:1,duration:1.8,ease:"expo.out"})}static animateDescriptionIn(){this.headerDescriptionOutTl&&this.headerDescriptionOutTl.kill(),this.headerDescriptionInTl=oe.fromTo(this.headerDescription,{y:"130%",opacity:0},{y:0,opacity:1,duration:1.8,ease:"expo.out"})}static animateAvailibilityIn(){this.headerAvailibilityOutTl&&this.headerAvailibilityOutTl.kill(),this.headerAvailibilityInTl=oe.fromTo(this.headerAvailibility,{y:"130%",opacity:0},{y:0,opacity:1,duration:1.8,ease:"expo.out"})}static animateDescriptionOut(){this.headerDescriptionInTl&&this.headerDescriptionInTl.kill(),this.headerDescriptionOutTl=oe.to(this.headerDescription,{opacity:0,duration:.5,ease:"none"})}static animateAvailibilityOut(){this.headerAvailibilityInTl&&this.headerAvailibilityInTl.kill(),this.headerAvailibilityOutTl=oe.to(this.headerAvailibility,{opacity:0,duration:.5,ease:"none"})}}class Tr{static init(){this.id="nav",this.el=document.querySelector(".ui-nav"),this.menuLinks=this.el.querySelectorAll(".ui-nav-a"),this.navItemsInner=this.el.querySelectorAll(".ui-nav-a-inner"),this.setPointerEvents("none"),this.addEvents()}static animateIn(){this.setPointerEvents("all"),oe.to(this.navItemsInner,{y:0,opacity:1,duration:1.8,stagger:.01,ease:"expo.out"})}static animateOut(){this.setPointerEvents("none"),oe.to(this.navItemsInner,{opacity:0,duration:.5,ease:"none"})}static addEvents(){this.updateNavActive(),this.menuLinks.forEach(e=>{e.addEventListener("mouseenter",t=>{ln.playHover()}),e.addEventListener("click",t=>{ln.playClick(),this.clear(),this.setActive(e.dataset.slug)})})}static setPointerEvents(e){this.el.querySelectorAll(".ui-nav-a").forEach(n=>{n.style.pointerEvents=e})}static clear(){this.el.querySelectorAll(".ui-nav-a").forEach(t=>{t.classList.remove("is-active")})}static setActive(e){this.el.querySelectorAll(".ui-nav-a").forEach(n=>{n.dataset.slug===e&&!n.classList.contains("is-active")&&n.classList.add("is-active")})}static updateNavActive(){this.el.querySelectorAll(".ui-nav-a").forEach(t=>{const i=window.location.href.split("?")[0],r=Xn(t.href);Xn(i).raw===r.raw?t.classList.add("is-active"):t.classList.remove("is-active")})}}class Ar{static init(){this.id="navMobile",this.el=document.querySelector(".ui-nav-mobile"),this.menuLinks=this.el.querySelectorAll(".ui-nav-mobile-a"),this.navItemsInner=this.el.querySelectorAll(".ui-nav-mobile-a-inner"),this.toggle=this.el.querySelector(".ui-nav-mobile-toggle"),this.addEvents()}static animateIn(){oe.fromTo(this.el,{opacity:0},{opacity:1,duration:.5,ease:"linear"})}static animateOut(){oe.to(this.el,{opacity:0,duration:.5,ease:"none"})}static addEvents(){this.updateNavActive(),this.toggle.addEventListener("click",()=>{this.el.classList.toggle("is-active"),document.documentElement.classList.toggle("is-nav-mobile-open")}),this.menuLinks.forEach(e=>{e.addEventListener("click",async t=>{await fn(300),this.setActive(e.dataset.slug),this.clear()})})}static clear(){this.el.querySelectorAll(".ui-nav-mobile-a"),this.el.classList.remove("is-active"),document.documentElement.classList.remove("is-nav-mobile-open")}static setActive(e){this.el.querySelectorAll(".ui-nav-mobile-a").forEach(n=>{n.dataset.slug===e&&n.classList.add("is-active")})}static updateNavActive(){this.el.querySelectorAll(".ui-nav-mobile-a").forEach(t=>{const i=window.location.href.split("?")[0],r=Xn(t.href);Xn(i).raw===r.raw?t.classList.add("is-active"):t.classList.remove("is-active")})}}class iD extends zt{static init(){this.onCtaClick=this.onCtaClick.bind(this),this.onCta2Click=this.onCta2Click.bind(this),this.onLoadProgress=this.onLoadProgress.bind(this),this.onLoadComplete=this.onLoadComplete.bind(this),this.progress=0,this.textAnimationIsPaused=!1,this.textAnimationInterval=400,this.el=document.querySelector(".preloader"),this.progressContainer=document.querySelector(".preloader-progress"),this.progressCircles=document.querySelector(".preloader-progress-circles"),this.progressCircle=document.querySelector(".preloader-progress-circle"),this.progressCircleR=this.progressCircle.r.baseVal.value,this.progressCircleOutline=document.querySelector(".preloader-progress-outline"),this.progressCircleOutlineR=this.progressCircleOutline.r.baseVal.value,this.progressTextInner=document.querySelector(".preloader-progress-text-inner"),this.progressText=document.querySelector(".preloader-progress-text-percent"),this.textDots=document.querySelector(".preloader-footer-text-dots"),this.cta=document.querySelector(".preloader-cta"),this.cta2=document.querySelector(".preloader-cta-2"),this.ctaTextInner=document.querySelector(".preloader-cta-text-inner"),this.ctaTextInner2=document.querySelector(".preloader-cta-text-2-inner"),this.footerTextInner=document.querySelector(".preloader-footer-text-inner"),this.setProgressCircle(0),document.body.style="",this.initLoader()}static async initLoader(){pe.on(xe.LOAD_PROGRESS,this.onLoadProgress),pe.on(xe.LOAD_COMPLETE,this.onLoadComplete),await fn(100),Ki.animateVersionIn(),Ki.animateNameIn(),J.animateIn(),jt.preloadThumbs(),pe.emit(xe.LOAD_START),this.animateIn(),this.loadingTextAnimation()}static async onLoadComplete(){this.rotationAnimation.pause();const e=135-this.rotation%360+360;oe.to(this.progressCircles,{rotate:`+=${e}deg`,duration:2,ease:"expo.out"});const t={progress:0,ease:"expo.out",duration:2};oe.to(this.progressContainer,{translateY:"-.75rem",duration:t.duration,ease:t.ease}),oe.fromTo(this.ctaTextInner,{translateY:"-102%",opacity:0},{translateY:"0",opacity:1,duration:1.2,ease:"expo.out"}),oe.fromTo(this.progressTextInner,{translateY:"0"},{translateY:"102%",duration:1.2,ease:"expo.out"}),oe.to(this.progressTextInner,{opacity:0,duration:.2,ease:"none"}),oe.to(this,{progressCircleR:120,duration:t.duration,ease:t.ease,onUpdate:()=>{this.progressCircle.setAttribute("r",this.progressCircleR)}}),oe.to(this,{progressCircleOutlineR:115,duration:t.duration,ease:t.ease,onUpdate:()=>{this.progressCircleOutline.setAttribute("r",this.progressCircleOutlineR)}}),oe.to(t,{progress:100,duration:t.duration,ease:t.ease,onUpdate:()=>{this.setProgressCircleToIntro(t.progress)}}),oe.fromTo(this.footerTextInner,{translateY:"0",opacity:1},{translateY:"102%",opacity:0,duration:1,ease:"expo.out"}),oe.fromTo(this.ctaTextInner2,{translateY:"102%",opacity:0},{translateY:"0",opacity:1,duration:2,delay:.2,ease:t.ease}),await fn(1e3),this.cta.classList.add("is-active"),this.cta2.classList.add("is-active"),this.cta.addEventListener("click",this.onCtaClick),this.cta2.addEventListener("click",this.onCta2Click)}static onCtaClick(e){Qe.isMobile||(ln.initSounds(),ln.toggleSound(),ln.playClick()),pe.emit(xe.LOAD_END),pe.emit(xe.ANIMATE_IN),this.animateGlobalComponentsIn(),this.animateOut()}static onCta2Click(e){Qe.isMobile||ln.initSounds(),pe.emit(xe.LOAD_END),pe.emit(xe.ANIMATE_IN),this.animateGlobalComponentsIn(),this.animateOut()}static animateGlobalComponentsIn(){ln.showSoundButton(),document.body.querySelector("[data-view]").dataset.view!=="error"&&(Tr.animateIn(),Ar.animateIn())}static animateOut(){this.el.style.pointerEvents="none",this.cta.style.pointerEvents="none",this.cta2.style.pointerEvents="none",oe.to(this.progressContainer,{scale:1.2,opacity:0,duration:1,ease:"expo.out",onComplete:()=>{this.el.remove()}})}static onLoadProgress(e){this.animateProgressCircle(e),this.setProgressText(e)}static animateProgressCircle(e){oe.to(this,{progress:e,duration:1,ease:"power4.out",onUpdate:()=>{this.setProgressCircle(this.progress)}})}static async animateIn(){this.rotation=0,oe.fromTo(this.progressContainer,{scale:.9,opacity:0},{scale:1,opacity:1,duration:3,ease:"power4.out"}),oe.fromTo(this.footerTextInner,{opacity:0,translateY:"110%"},{opacity:1,translateY:"0",duration:1.8,delay:.02,ease:"expo.out"}),this.rotationAnimation=oe.to(this,{rotation:360,duration:6,ease:"none",repeat:-1,onUpdate:()=>{this.progressCircles.style.transform=`rotate(${this.rotation}deg)`}})}static async setProgressText(e){this.progressText.innerHTML=Math.floor(e)}static setProgressCircle(e=0){const t=this.progressCircle.r.baseVal.value,n=Math.PI*t*2,i=n-n*e/100;this.progressCircle.style.strokeDasharray=n,this.progressCircle.style.strokeDashoffset=i}static loadingTextAnimation(e=""){if(this.textAnimationIsPaused){setTimeout(()=>this.loadingTextAnimation(e),this.textAnimationInterval);return}this.textDots.innerText=e,e=e.length<3?e+".":"",setTimeout(()=>this.loadingTextAnimation(e),this.textAnimationInterval)}static setProgressCircleToIntro(e=100){const t=this.progressCircle.r.baseVal.value,n=this.progressCircle.r.baseVal.value*.95,i=Math.PI*(t*2),r=Math.PI*(n*2),o=.05*(e/100),a=1e-4*(e/100),c=i*(.5-o),u=i*o,d=r*(.5-a),l=r*a;this.progressCircle.style.setProperty("--circle-dash-array-static",`${c} ${u}`),this.progressCircle.style.setProperty("--circle-dash-offset-static",c),this.progressCircle.style.setProperty("--circle-dash-array-hover",`${d} ${l}`),this.progressCircle.style.setProperty("--circle-dash-offset-hover",d),this.progressCircle.style.setProperty("--circle-r1-hover",`${n}px`),this.progressCircleOutline.style.setProperty("--circle-r2-hover",`${n*1.075}px`),this.progressCircle.style.strokeDasharray="",this.progressCircle.style.strokeDashoffset=""}}class sD{static reset(){this.isLoaded=!1,this.progress=0,this.loaded=0}static init(){pe.on(xe.LOAD_START,this.load.bind(this))}static async load(){this.reset(),this.isLoaded=!1,this.progress=0,pe.emit(xe.LOAD_PROGRESS,this.progress),Ym.onProgress=(e,t,n)=>{if(this.isLoaded)return!1;this.loaded++,setTimeout(()=>{this.progress=Math.floor(t/n*100),pe.emit(xe.LOAD_PROGRESS,this.progress),this.progress===100&&(this.isLoaded=!0,setTimeout(()=>{pe.emit(xe.LOAD_COMPLETE)},1e3))},150*this.loaded)}}}function $c(s,e,t){var n,i,r,o,a;e==null&&(e=100);function c(){var d=Date.now()-o;d<e&&d>=0?n=setTimeout(c,e-d):(n=null,t||(a=s.apply(r,i),r=i=null))}var u=function(){r=this,i=arguments,o=Date.now();var d=t&&!n;return n||(n=setTimeout(c,e)),d&&(a=s.apply(r,i),r=i=null),a};return u.clear=function(){n&&(clearTimeout(n),n=null)},u.flush=function(){n&&(a=s.apply(r,i),r=i=null,clearTimeout(n),n=null)},u}$c.debounce=$c;var rD=$c;const Af=u_(rD);function Df(s,e){let t={classWord:"word",classWords:"words",classLine:"line",classLetter:"letter",splitLetters:!1};Object.assign(t,e);const n=s.querySelectorAll("p"),i=[];n.length?n.forEach(o=>{r(o),s.removeChild(o)}):r(s);function r(o){const c=o.innerHTML.split("<br>");o.innerHTML="",c.forEach(u=>{if(u==="")return!1;const d=document.createElement("div");d.innerHTML=u,d.classList.add(`${t.classLine}-inner`);const l=document.createElement("div");l.innerHTML=d.outerHTML,l.classList.add(t.classLine),t.splitLetters&&oD(l,{setClassName:function(){return"char"}}),i.push(l)}),i.forEach(u=>{s.appendChild(u)})}}function Cf(s,e={}){let t={debug:!1,classLine:"line",ignoreClass:".colored-text"};Object.assign(t,e);function n(r){const o=r.children;let a="";const c=[],u=r.querySelectorAll(t.ignoreClass);let d="";for(let g=0;g<u.length;g++){const v=u[g];v.innerHTML=v.textContent.replace(/\S+/g,"<n>$&</n>");const m=v.querySelectorAll("n");for(let p=0;p<m.length;p++)c.push({color:d,part:m[p].innerHTML,matched:!1})}const h=r.textContent.replace(/\S+/g,"<n>$&</n>").replace("-","</n><n>-</n><n>");r.innerHTML=h;let f=-1e5;for(let g=0;g<o.length;g++){const v=o[g],m=v.offsetTop;let p=i(v.innerHTML,c);p===void 0&&(p=v.innerHTML),f<m&&(a+=`</span></span><span class="${t.classLine}"><span class="${t.classLine}-inner">`),f=m,a+=`${p!=","&&p!="-"?" ":""}${p}`}r.innerHTML=a+="</span></span>"}function i(r,o){for(let a=0;a<o.length;a++)if(!o[a].matched&&o[a].part===r)return o[a].matched=!0,`<span class="${o[a].color}"> ${r}</span>`}n(s)}function oD(s,{tagName:e="span",split:t,setClassName:n=i=>"char"+i}={}){s.normalize();let i=1;function r(a){const c=a.parentNode,u=a.nodeValue,d=t?t(u):u.split(""),l=document.createDocumentFragment();d.forEach(h=>{const f=document.createElement(e),g=n(i++,h);g&&(f.className=g),h===" "&&(h="Â "),f.textContent=h,f.setAttribute("data-char",h),f.setAttribute("aria-hidden","true"),l.appendChild(f)}),c.insertBefore(l,a),c.removeChild(a)}function o(a){if(a.nodeType===3)return r(a);const c=a.childNodes,u=c.length;if(u===1&&c[0].nodeType===3)return r(c[0]);for(let d=0;d<u;d++)o(c[d])}o(s)}/*!
 * strings: 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/const aD=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function bg(s){let e=s.nodeType,t="";if(e===1||e===9||e===11){if(typeof s.textContent=="string")return s.textContent;for(s=s.firstChild;s;s=s.nextSibling)t+=bg(s)}else if(e===3||e===4)return s.nodeValue;return t}/*!
 * SplitText: 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/let ir,qc,Mg,Zr,Eg,il,lD=/(?:\r|\n|\t\t)/g,cD=/(?:\s\s+)/g,uD=String.fromCharCode(160),wg=s=>{ir=document,qc=window,Zr=Zr||s||qc.gsap||console.warn("Please gsap.registerPlugin(SplitText)"),Zr&&(il=Zr.utils.toArray,Eg=Zr.core.context||function(){},Mg=1)},Tg=s=>qc.getComputedStyle(s),Fu=s=>s.position==="absolute"||s.absolute===!0,hD=(s,e)=>{let t=e.length,n;for(;--t>-1;)if(n=e[t],s.substr(0,n.length)===n)return n.length},dD=" style='position:relative;display:inline-block;'",Rf=(s="",e)=>{let t=~s.indexOf("++"),n=1;return t&&(s=s.split("++").join("")),()=>"<"+e+dD+(s?" class='"+s+(t?n++:"")+"'>":">")},Nu=(s,e,t)=>{let n=s.nodeType;if(n===1||n===9||n===11)for(s=s.firstChild;s;s=s.nextSibling)Nu(s,e,t);else(n===3||n===4)&&(s.nodeValue=s.nodeValue.split(e).join(t))},hc=(s,e)=>{let t=e.length;for(;--t>-1;)s.push(e[t])},Pf=(s,e,t)=>{let n;for(;s&&s!==e;){if(n=s._next||s.nextSibling,n)return n.textContent.charAt(0)===t;s=s.parentNode||s._parent}},Ag=s=>{let e=il(s.childNodes),t=e.length,n,i;for(n=0;n<t;n++)i=e[n],i._isSplit?Ag(i):n&&i.previousSibling&&i.previousSibling.nodeType===3?(i.previousSibling.nodeValue+=i.nodeType===3?i.nodeValue:i.firstChild.nodeValue,s.removeChild(i)):i.nodeType!==3&&(s.insertBefore(i.firstChild,i),s.removeChild(i))},Jn=(s,e)=>parseFloat(e[s])||0,fD=(s,e,t,n,i,r,o)=>{let a=Tg(s),c=Jn("paddingLeft",a),u=-999,d=Jn("borderBottomWidth",a)+Jn("borderTopWidth",a),l=Jn("borderLeftWidth",a)+Jn("borderRightWidth",a),h=Jn("paddingTop",a)+Jn("paddingBottom",a),f=Jn("paddingLeft",a)+Jn("paddingRight",a),g=Jn("fontSize",a)*(e.lineThreshold||.2),v=a.textAlign,m=[],p=[],x=[],_=e.wordDelimiter||" ",S=e.tag?e.tag:e.span?"span":"div",M=e.type||e.split||"chars,words,lines",E=i&&~M.indexOf("lines")?[]:null,w=~M.indexOf("words"),C=~M.indexOf("chars"),y=Fu(e),b=e.linesClass,U=~(b||"").indexOf("++"),z=[],P=a.display==="flex",O=s.style.display,F,k,j,D,K,q,te,ve,re,N,Y,ae;for(U&&(b=b.split("++").join("")),P&&(s.style.display="block"),k=s.getElementsByTagName("*"),j=k.length,K=[],F=0;F<j;F++)K[F]=k[F];if(E||y)for(F=0;F<j;F++)D=K[F],q=D.parentNode===s,(q||y||C&&!w)&&(ae=D.offsetTop,E&&q&&Math.abs(ae-u)>g&&(D.nodeName!=="BR"||F===0)&&(te=[],E.push(te),u=ae),y&&(D._x=D.offsetLeft,D._y=ae,D._w=D.offsetWidth,D._h=D.offsetHeight),E&&((D._isSplit&&q||!C&&q||w&&q||!w&&D.parentNode.parentNode===s&&!D.parentNode._isSplit)&&(te.push(D),D._x-=c,Pf(D,s,_)&&(D._wordEnd=!0)),D.nodeName==="BR"&&(D.nextSibling&&D.nextSibling.nodeName==="BR"||F===0)&&E.push([])));for(F=0;F<j;F++){if(D=K[F],q=D.parentNode===s,D.nodeName==="BR"){E||y?(D.parentNode&&D.parentNode.removeChild(D),K.splice(F--,1),j--):w||s.appendChild(D);continue}if(y&&(re=D.style,!w&&!q&&(D._x+=D.parentNode._x,D._y+=D.parentNode._y),re.left=D._x+"px",re.top=D._y+"px",re.position="absolute",re.display="block",re.width=D._w+1+"px",re.height=D._h+"px"),!w&&C)if(D._isSplit)for(D._next=k=D.nextSibling,D.parentNode.appendChild(D);k&&k.nodeType===3&&k.textContent===" ";)D._next=k.nextSibling,D.parentNode.appendChild(k),k=k.nextSibling;else D.parentNode._isSplit?(D._parent=D.parentNode,!D.previousSibling&&D.firstChild&&(D.firstChild._isFirst=!0),D.nextSibling&&D.nextSibling.textContent===" "&&!D.nextSibling.nextSibling&&z.push(D.nextSibling),D._next=D.nextSibling&&D.nextSibling._isFirst?null:D.nextSibling,D.parentNode.removeChild(D),K.splice(F--,1),j--):q||(ae=!D.nextSibling&&Pf(D.parentNode,s,_),D.parentNode._parent&&D.parentNode._parent.appendChild(D),ae&&D.parentNode.appendChild(ir.createTextNode(" ")),S==="span"&&(D.style.display="inline"),m.push(D));else D.parentNode._isSplit&&!D._isSplit&&D.innerHTML!==""?p.push(D):C&&!D._isSplit&&(S==="span"&&(D.style.display="inline"),m.push(D))}for(F=z.length;--F>-1;)z[F].parentNode.removeChild(z[F]);if(E){for(y&&(N=ir.createElement(S),s.appendChild(N),Y=N.offsetWidth+"px",ae=N.offsetParent===s?0:s.offsetLeft,s.removeChild(N)),re=s.style.cssText,s.style.cssText="display:none;";s.firstChild;)s.removeChild(s.firstChild);for(ve=_===" "&&(!y||!w&&!C),F=0;F<E.length;F++){for(te=E[F],N=ir.createElement(S),N.style.cssText="display:block;text-align:"+v+";position:"+(y?"absolute;":"relative;"),b&&(N.className=b+(U?F+1:"")),x.push(N),j=te.length,k=0;k<j;k++)te[k].nodeName!=="BR"&&(D=te[k],N.appendChild(D),ve&&D._wordEnd&&N.appendChild(ir.createTextNode(" ")),y&&(k===0&&(N.style.top=D._y+"px",N.style.left=c+ae+"px"),D.style.top="0px",ae&&(D.style.left=D._x-ae+"px")));j===0?N.innerHTML="&nbsp;":!w&&!C&&(Ag(N),Nu(N,String.fromCharCode(160)," ")),y&&(N.style.width=Y,N.style.height=D._h+"px"),s.appendChild(N)}s.style.cssText=re}y&&(o>s.clientHeight&&(s.style.height=o-h+"px",s.clientHeight<o&&(s.style.height=o+d+"px")),r>s.clientWidth&&(s.style.width=r-f+"px",s.clientWidth<r&&(s.style.width=r+l+"px"))),P&&(O?s.style.display=O:s.style.removeProperty("display")),hc(t,m),w&&hc(n,p),hc(i,x)},pD=(s,e,t,n)=>{let i=e.tag?e.tag:e.span?"span":"div",r=e.type||e.split||"chars,words,lines",o=~r.indexOf("chars"),a=Fu(e),c=e.wordDelimiter||" ",u=C=>C===c||C===uD&&c===" ",d=c!==" "?"":a?"&#173; ":" ",l="</"+i+">",h=1,f=e.specialChars?typeof e.specialChars=="function"?e.specialChars:hD:null,g,v,m,p,x,_,S,M,E=ir.createElement("div"),w=s.parentNode;for(w.insertBefore(E,s),E.textContent=s.nodeValue,w.removeChild(s),s=E,g=bg(s),S=g.indexOf("<")!==-1,e.reduceWhiteSpace!==!1&&(g=g.replace(cD," ").replace(lD,"")),S&&(g=g.split("<").join("{{LT}}")),x=g.length,v=(g.charAt(0)===" "?d:"")+t(),m=0;m<x;m++)if(_=g.charAt(m),f&&(M=f(g.substr(m),e.specialChars)))_=g.substr(m,M||1),v+=o&&_!==" "?n()+_+"</"+i+">":_,m+=M-1;else if(u(_)&&!u(g.charAt(m-1))&&m){for(v+=h?l:"",h=0;u(g.charAt(m+1));)v+=d,m++;m===x-1?v+=d:g.charAt(m+1)!==")"&&(v+=d+t(),h=1)}else _==="{"&&g.substr(m,6)==="{{LT}}"?(v+=o?n()+"{{LT}}</"+i+">":"{{LT}}",m+=5):_.charCodeAt(0)>=55296&&_.charCodeAt(0)<=56319||g.charCodeAt(m+1)>=65024&&g.charCodeAt(m+1)<=65039?(p=((g.substr(m,12).split(aD)||[])[1]||"").length||2,v+=o&&_!==" "?n()+g.substr(m,p)+"</"+i+">":g.substr(m,p),m+=p-1):v+=o&&_!==" "?n()+_+"</"+i+">":_;s.outerHTML=v+(h?l:""),S&&Nu(w,"{{LT}}","<")},Dg=(s,e,t,n)=>{let i=il(s.childNodes),r=i.length,o=Fu(e),a,c;if(s.nodeType!==3||r>1){for(e.absolute=!1,a=0;a<r;a++)c=i[a],c._next=c._isFirst=c._parent=c._wordEnd=null,(c.nodeType!==3||/\S+/.test(c.nodeValue))&&(o&&c.nodeType!==3&&Tg(c).display==="inline"&&(c.style.display="inline-block",c.style.position="relative"),c._isSplit=!0,Dg(c,e,t,n));e.absolute=o,s._isSplit=!0;return}pD(s,e,t,n)};class Nr{constructor(e,t){Mg||wg(),this.elements=il(e),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=t||{},Eg(this),this.split(t)}split(e){this.isSplit&&this.revert(),this.vars=e=e||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;let t=this.elements.length,n=e.tag?e.tag:e.span?"span":"div",i=Rf(e.wordsClass,n),r=Rf(e.charsClass,n),o,a,c;for(;--t>-1;)c=this.elements[t],this._originals[t]={html:c.innerHTML,style:c.getAttribute("style")},o=c.clientHeight,a=c.clientWidth,Dg(c,e,i,r),fD(c,e,this.chars,this.words,this.lines,a,o);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this}revert(){let e=this._originals;if(!e)throw"revert() call wasn't scoped properly.";return this.elements.forEach((t,n)=>{t.innerHTML=e[n].html,t.setAttribute("style",e[n].style)}),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this}static create(e,t){return new Nr(e,t)}}Nr.version="3.12.5";Nr.register=wg;class mD extends zt{init(){super.init(),this.onResize=this.onResize.bind(this),this.formatElements(),this.splitLines(this.splitElements.splitLines),this.splitArticles(this.splitElements.splitArticles),this.splitTitles(this.splitElements.splitTitles),this.splitCharacters(this.splitElements.splitCharacters)}addEvents(){super.addEvents(),addEventListener("resize",Af(this.onResize,100),{passive:!0})}removeEvents(){super.removeEvents(),removeEventListener("resize",Af(this.onResize,100),{passive:!0})}async reset(){this.restoreElements(this.splitElements.splitLines),this.restoreElements(this.splitElements.splitArticles),this.restoreElements(this.splitElements.splitTitles),this.restoreElements(this.splitElements.splitCharacters),await fn(),this.splitLines(this.splitElements.splitLines),this.splitArticles(this.splitElements.splitArticles),this.splitTitles(this.splitElements.splitTitles),this.splitCharacters(this.splitElements.splitCharacters)}onResize(){this.reset()}restoreElements(e){for(let t=0;t<e.length;t++){const n=e[t];n.resize&&(n.el.innerHTML=n.cache,n.splitted=!1)}}formatElement(e){const t=[];return e.forEach(n=>{t.push({el:n,resize:n.dataset.splitResize===void 0||n.dataset.splitResize==="true",cache:n.innerHTML,splitted:!1})}),t}formatElements(){const e=this.getAll("[data-split-lines]"),t=this.getAll("[data-split-articles]"),n=this.getAll("[data-split-titles]"),i=this.getAll("[data-split-chars]");this.splitElements={splitLines:this.formatElement(e),splitArticles:this.formatElement(t),splitTitles:this.formatElement(n),splitCharacters:this.formatElement(i)}}splitLines(e){e.length&&e.forEach(t=>{t.splitted||(Df(t.el),t.splitted=!0)})}splitArticles(e){e.length&&e.forEach(t=>{if(t.splitted)return;const n=t.el.querySelectorAll("h2, h3"),i=t.el.querySelectorAll("p");n.forEach(r=>Cf(r)),i.forEach(r=>{new Nr(r,{type:"lines"}).lines.forEach(function(a){const c=document.createElement("div");c.className="line";const u=document.createElement("div");for(u.className="line-inner";a.firstChild;)u.appendChild(a.firstChild);c.appendChild(u),a.parentNode.replaceChild(c,a)})}),t.splitted=!0})}splitTitles(e){e.length&&e.forEach(t=>{if(t.splitted)return;t.el.querySelectorAll("h1, h2, h3, h4, h4").forEach(i=>Cf(i)),t.splitted=!0})}splitCharacters(e){e.length&&e.forEach(t=>{t.splitted||(Df(t.el,{classWord:"word",classWords:"words",classLine:"line",classLetter:"letter",splitLetters:!0}),t.splitted=!0)})}}class sl extends Sg{async init(){document.documentElement.classList.add(`is-${this.el.dataset.view}`),this.add("[data-sound]",lm,this.el,"AudioItem"),this.splitTexts=new mD(this.el),await Qe.promise,this.onEnter(),this.onLoaderDone=this.onLoaderDone.bind(this),this.animateIn=this.animateIn.bind(this),pe.on(xe.ANIMATE_IN,this.animateIn)}destroy(){super.destroy(),document.documentElement.classList.remove(`is-${this.el.dataset.view}`),pe.off(xe.ANIMATE_IN,this.animateIn)}animateIn(){document.body.style="",Ki.setPointerEvents("all"),oe.to(this.el,{opacity:1,duration:.5,ease:"linear"}),this.components.forEach(e=>{e.animateIn&&e.animateIn(),e.observe&&e.observe()})}onLeave(){oe.to(this.el,{opacity:0,duration:.5,ease:"linear"}),this.components.forEach(e=>{e.animateOut&&e.animateOut()})}async onLoaderDone(){this.animateIn()}onEnter(){super.onEnter()}}class gD extends zt{async init(){super.init(),this.cta=this.el.querySelector(".c-button"),this.ctaTextInner=this.el.querySelector(".c-button-text-inner"),this.ctaEl=this.el.querySelector(".c-button-bg"),this.magnetArea=this.el.querySelector(".ui-work-cta"),this.x=0,this.y=0,this.xLerp=0,this.yLerp=0,this.mouseF=1,this.formatButton(),this.onProjectActive=this.onProjectActive.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onRaf=this.onRaf.bind(this),this.formatButton=this.formatButton.bind(this),this.onClick=this.onClick.bind(this)}formatButton(){const e=this.ctaEl.offsetHeight,t=this.ctaEl.offsetWidth;this.svg=this.ctaEl.querySelector("svg"),this.rect=this.svg.querySelector(".c-button-bg-static"),this.rectHover=this.svg.querySelector(".c-button-bg-hover"),this.line=this.svg.querySelector("line"),this.svg.setAttribute("width",t),this.svg.setAttribute("height",e),this.svg.setAttribute("viewBox",`0 0 ${t} ${e}`),this.rect.setAttribute("width",t),this.rect.setAttribute("height",e),this.rectHover.setAttribute("width",t),this.rectHover.setAttribute("height",e),this.rect.setAttribute("height",e-2),this.rectHover.setAttribute("height",e-2)}async addEvents(){super.addEvents(),this.magnetArea.addEventListener("click",this.onClick),pe.on(xe.PROJECT_ACTIVE,this.onProjectActive),pe.on(xe.RESIZE,this.formatButton),kt.add(this.onRaf,this.id)}destroy(){super.destroy(),this.magnetArea.removeEventListener("click",this.onClick),pe.off(xe.PROJECT_ACTIVE,this.onProjectActive),pe.off(xe.RESIZE,this.formatButton),kt.remove(this.id)}onClick(e){e.preventDefault(),ln.playClick()}onMouseLeave(){this.x=0,this.y=0,this.mouseF=J.workScene.mouseF,oe.to(this,{mouseF:1,duration:3,ease:"none",onUpdate:()=>J.workScene.setMouseFactor(this.mouseF)})}onMouseEnter(){this.mouseF=J.workScene.mouseF,oe.to(this,{mouseF:.25,duration:3,ease:"none",onUpdate:()=>J.workScene.setMouseFactor(this.mouseF)})}onMouseMove({clientX:e,clientY:t}){const n=this.magnetArea.getBoundingClientRect(),i=(e-n.left-n.width/2)*.5,r=(t-n.top-n.height/2)*.35;this.x=i,this.y=r}onRaf({time:e,delta:t,frame:n,fps:i}){this.xLerp=yf(this.xLerp,this.x,2.5,t),this.yLerp=yf(this.yLerp,this.y,2.5,t),this.transform(this.xLerp,this.yLerp)}transform(e,t){this.cta.style.transform=`translate3d(${e}px, ${t}px, 0)`}onProjectActive(e){}animateOut(){this.animateTl&&this.animateTl.kill(),oe.to(this.cta,{opacity:0,duration:.3,ease:"none"})}animateIn(){this.animateTl=oe.timeline({delay:.5}),this.animateTl.fromTo(this.cta,{opacity:0},{opacity:1,duration:.3,ease:"none"}),this.animateTl.fromTo(this.ctaTextInner,{opacity:0,y:"102%"},{opacity:1,y:0,duration:1.6,ease:"expo.out"},0)}}class vD extends zt{async init(){super.init(),this.links=this.getAll(".ui-work-a"),this.listItems=this.getAll(".ui-work-ul > li"),this.listItemsInner=this.getAll(".ui-work-a > span"),this.ctas=[],this.onProjectActive=this.onProjectActive.bind(this),this.onListItemClick=this.onListItemClick.bind(this),this.addCtas()}addCtas(){this.listItems.forEach(e=>{const t=new gD(e,this.el);this.ctas.push(t)})}async addEvents(){super.addEvents(),pe.on(xe.PROJECT_ACTIVE,this.onProjectActive),this.links.forEach(e=>{e.addEventListener("click",this.onListItemClick),Qe.isMobile&&e.addEventListener("touchstart",this.onListItemClick)})}onListItemClick(e){e.preventDefault();const t=e.target.offsetParent.dataset.slug;pe.emit(xe.NAV_CLICK,{slug:t}),ln.playClick(),this.onProjectActive(t)}onProjectActive(e){this.listItems.forEach((t,n)=>{t.dataset.slug===e?(t.classList.add("is-active"),this.ctas[n].animateIn()):(t.classList.remove("is-active"),this.ctas[n].animateOut())})}destroy(){super.destroy(),this.links.forEach(e=>{e.removeEventListener("click",this.onListItemClick),Qe.isMobile&&e.removeEventListener("touchstart",this.onListItemClick)}),this.ctas.forEach(e=>{e.destroy()}),pe.off(xe.PROJECT_ACTIVE,this.onProjectActive)}animateIn(){oe.fromTo(this.listItemsInner,{y:"102%",opacity:0},{y:0,opacity:1,duration:1.8,stagger:.03,ease:"expo.out"})}}class _D extends zt{async init(){super.init(),this.listItems=this.getAll(".ui-progressbar-item"),this.onProjectActive=this.onProjectActive.bind(this),this.onListItemClick=this.onListItemClick.bind(this)}async addEvents(){super.addEvents(),pe.on(xe.PROJECT_ACTIVE,this.onProjectActive),this.listItems.forEach(e=>{e.addEventListener("click",this.onListItemClick),Qe.isMobile&&e.addEventListener("touchstart",this.onListItemClick)})}onListItemClick(e){e.preventDefault(),pe.emit(xe.NAV_CLICK,{slug:e.currentTarget.dataset.slug}),this.onProjectActive(e.currentTarget.dataset.slug)}onProjectActive(e){this.listItems.forEach((t,n)=>{t.dataset.slug===e?t.classList.add("is-active"):t.classList.remove("is-active")})}destroy(){super.destroy(),this.listItems.forEach(e=>{e.removeEventListener("click",this.onListItemClick),Qe.isMobile&&e.removeEventListener("touchstart",this.onListItemClick)}),pe.off(xe.PROJECT_ACTIVE,this.onProjectActive)}animateIn(){}}function sr(s){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return e?{r:parseInt(e[1],16)/255,g:parseInt(e[2],16)/255,b:parseInt(e[3],16)/255}:null}class be{static init(){this.settings={contrast:xt.contrast,darken:xt.darken,saturation:xt.saturation,mainColor:{r:0,g:0,b:0},ambientColor:{r:0,g:0,b:0},ambientIntensity:xt.ambient,sceneReveal:0,envRotation:0,revealSpread:0,fluidStrength:0,directionalLight:{intensity:0},directionalLight2:{intensity:0},spotLight:{intensity:0},media:{background:{r:0,g:0,b:0},opacity:0},thumb:{darknessIntensity:0,darknessColor:{r:0,g:0,b:0},saturation:1,mouseLightness:1}},this.html=document.documentElement,this.setMainColor(xt.colors.primary,0)}static setDirectionalLightIntensity=(e,t=1.6,n="expo.out")=>{this.directionalLightAnim&&this.directionalLightAnim.kill(),this.directionalLightAnim=oe.to(this.settings.directionalLight,{intensity:e,ease:n,duration:t,onUpdate:()=>{J.workScene.directionalLight.intensity=this.settings.directionalLight.intensity}})};static setDirectionalLight2Intensity=(e,t=1.6,n="expo.out")=>{this.directionalLight2Anim&&this.directionalLight2Anim.kill(),this.directionalLight2Anim=oe.to(this.settings.directionalLight2,{intensity:e,ease:n,duration:t,onUpdate:()=>{J.workScene.directionalLight2.intensity=this.settings.directionalLight2.intensity}})};static setFluidStrength=(e,t=.5)=>{t===0?J.mainScene.renderManager.compositeMaterial.uniforms.uFluidStrength.value=this.settings.fluidStrength=e:oe.to(this.settings,{fluidStrength:e,duration:t,ease:"none",onUpdate:()=>{J.mainScene.renderManager.compositeMaterial.uniforms.uFluidStrength.value=this.settings.fluidStrength}})};static setRevealSpread=(e,t=1.6,n="power4.out")=>{this.revealSpreadAnim&&this.revealSpreadAnim.kill(),this.revealSpreadAnim=oe.to(this.settings,{revealSpread:e,duration:t,ease:n,onUpdate:()=>{J.workScene.blocks.forEach((i,r)=>{i.instance.material.customUniforms.uRevealSpread.value=this.settings.revealSpread})}})};static hideWorkScene=()=>{J.workScene.blocks.forEach((e,t)=>{oe.to(e.instance.material.customUniforms.uRevealProject,{value:0,ease:"power3.in",duration:.5})})};static setEnvRotation=(e,t=5.6)=>{this.envRotationAnim&&this.envRotationAnim.kill(),t===0?J.workScene.sceneWrap.rotation.x=this.settings.envRotation=e:this.envRotationAnim=oe.to(this.settings,{envRotation:e,duration:t,ease:"expo.inOut",onUpdate:()=>{J.workScene.sceneWrap.rotation.x=this.settings.envRotation}})};static setSpotLightIntensity=(e,t=1.6,n="expo.out")=>{this.spotlightAnim&&this.spotlightAnim.kill(),this.spotlightAnim=oe.to(this.settings.spotLight,{intensity:e,ease:n,duration:t,onUpdate:()=>{J.workScene.spotLight.intensity=this.settings.spotLight.intensity}})};static setAmbientColor(e,t=1.6){const n=this.formatColor(e);oe.to(J.workScene.ambientLight.color,{r:n.r,g:n.g,b:n.b,ease:"expo.out",duration:t,onUpdate:()=>{J.workScene.env.material.customUniforms.uDarkenColor.value.set(J.workScene.ambientLight.color.r,J.workScene.ambientLight.color.g,J.workScene.ambientLight.color.b)}})}static setBlocksColor(e,t=1.6){const n=this.formatColor(e);J.workScene.blocks.forEach(i=>{oe.to(i.instance.material.emissive,{r:n.r,g:n.g,b:n.b,ease:"expo.out",duration:t})})}static setAmbientIntensity(e,t=1.6){oe.to(J.workScene.ambientLight,{intensity:e,ease:"expo.out",duration:t})}static setAmbientLight=(e,t=.5,n=1.6)=>{this.setAmbientColor(e,n),this.setAmbientIntensity(t,n)};static setSaturation=(e,t=1.6)=>{t===0?J.workScene.renderManager.compositeMaterial.uniforms.uSaturation.value=this.settings.saturation=e:oe.to(this.settings,{saturation:e,duration:t,ease:"expo.out",onUpdate:()=>{J.workScene.renderManager.compositeMaterial.uniforms.uSaturation.value=this.settings.saturation}})};static setDarken=(e=.25,t=.5)=>{t===0?J.workScene.renderManager.compositeMaterial.uniforms.uDarken.value=this.settings.darken=e:oe.to(this.settings,{darken:e,duration:.5,ease:"none",onUpdate:()=>{J.workScene.renderManager.compositeMaterial.uniforms.uDarken.value=this.settings.darken}})};static setThumbSaturation=(e,t=1.6)=>{t===0?J.workThumbScene.renderManager.compositeMaterial.uniforms.uSaturation.value=this.settings.thumb.saturation=e:oe.to(this.settings.thumb,{saturation:e,duration:t,ease:"expo.out",onUpdate:()=>{J.workThumbScene.renderManager.compositeMaterial.uniforms.uSaturation.value=this.settings.thumb.saturation}})};static setThumbMouseLightness=(e,t=1.6)=>{t===0?J.workScene.blocks.forEach(n=>{n.instance.material.customUniforms.uMouseLightness.value=this.settings.thumb.mouseLightness=e}):oe.to(this.settings.thumb,{mouseLightness:e,duration:t,ease:"expo.out",onUpdate:()=>{J.workScene.blocks.forEach(n=>{n.instance.material.customUniforms.uMouseLightness.value=this.settings.thumb.mouseLightness})}})};static showScene=(e,t=1.6)=>{oe.to(this.settings,{sceneReveal:1,duration:t,ease:"expo.out",onUpdate:()=>{J.mainScene.renderManager.compositeMaterial.uniforms.uReveal.value=this.settings.sceneReveal}})};static formatColor=e=>(typeof e=="string"&&(e.includes("rgba")?(e=e.replace("rgba(","").replace(")","").split(",").map(t=>parseInt(t)),e={r:e[0]/255,g:e[1]/255,b:e[2]/255}):e=sr(e)),e);static setMainColor=(e,t=1.6)=>{const n=this.formatColor(e),i=document.querySelectorAll(".c-color");if(t===0){const{r,g:o,b:a}=n;this.settings.mainColor={r,g:o,b:a},i.forEach(c=>{c.style.color=`rgb(${Fn(r*255,2)}, ${Fn(o*255,2)}, ${Fn(a*255,2)})`})}else oe.to(this.settings.mainColor,{r:n.r,g:n.g,b:n.b,duration:t,ease:"expo.out",onUpdate:()=>{const{r,g:o,b:a}=this.settings.mainColor;for(let c=0;c<i.length;c++){const u=i[c];u.style.color=`rgb(${Fn(r*255,0)}, ${Fn(o*255,0)}, ${Fn(a*255,0)})`}}})};static setThumbDarknessIntensity=(e,t=1.6)=>{t===0?J.workThumbScene.renderManager.compositeMaterial.uniforms.uDarkenIntensity.value=this.settings.thumb.darknessIntensity=e:oe.to(this.settings.thumb,{darknessIntensity:e,duration:t,ease:"expo.out",onUpdate:()=>{J.workThumbScene.renderManager.compositeMaterial.uniforms.uDarkenIntensity.value=this.settings.thumb.darknessIntensity}})};static setThumbDarknessColor=(e,t=1.6)=>{if(typeof e=="string"&&(e=sr(e)),t===0){const{r:n,g:i,b:r}=e;J.workThumbScene.renderManager.compositeMaterial.uniforms.uDarkenColor.value.set(n,i,r),this.settings.thumb.darknessColor=e}else oe.to(this.settings.thumb.darknessColor,{r:e.r,g:e.g,b:e.b,duration:t,ease:"expo.out",onUpdate:()=>{const{r:n,g:i,b:r}=this.settings.thumb.darknessColor;J.workThumbScene.renderManager.compositeMaterial.uniforms.uDarkenColor.value.set(n,i,r)}})};static setCameraControllerSettings=(e=new L(0,0,0),t=new Q(.25,.25),n=10)=>{J.workScene.setCameraControllerSettings(e,t,n)};static mediaAnimateIn=()=>{this.setMediaOpacity(1),J.mediaScene.mediaItems.items.forEach(e=>{oe.to(e.instance.translation,{y:0,duration:1.6,delay:.25,ease:"expo.out",onUpdate:()=>{e.instance.update()}})})};static setContrast=(e,t=1.6)=>{t===0?J.mainScene.renderManager.compositeMaterial.uniforms.uContrast.value=this.settings.contrast=e:oe.to(this.settings,{contrast:e,duration:t,ease:"expo.out",onUpdate:()=>{J.mainScene.renderManager.compositeMaterial.uniforms.uContrast.value=this.settings.contrast}})};static setMediaOpacity=(e,t=1.6,n="expo.out",i=.25)=>{oe.to(this.settings.media,{opacity:e,duration:t,ease:n,delay:i,onUpdate:()=>{J.mainScene.renderManager.compositeMaterial.uniforms.uMediaReveal.value=this.settings.media.opacity}})};static setMediaBackground=(e,t=1.6)=>{const n=this.formatColor(e);t===0?(this.settings.media.background=n,J.mediaScene.mediaItems.backgroundColor.set(n.r,n.g,n.b)):oe.to(this.settings.media.background,{r:n.r,g:n.g,b:n.b,duration:t,ease:"expo.out",onUpdate:()=>{const{r:i,g:r,b:o}=this.settings.media.background;J.mediaScene.mediaItems.backgroundColor.set(i,r,o)}})}}let xD=class{constructor(){this.events={}}emit(e,...t){let n=this.events[e]||[];for(let i=0,r=n.length;i<r;i++)n[i](...t)}on(e,t){return this.events[e]?.push(t)||(this.events[e]=[t]),()=>{this.events[e]=this.events[e]?.filter(n=>t!==n)}}off(e,t){this.events[e]=this.events[e]?.filter(n=>t!==n)}destroy(){this.events={}}};function Lf(s,e,t){return Math.max(s,Math.min(e,t))}let Cg=class{constructor(e,{wheelMultiplier:t=1,touchMultiplier:n=2,normalizeWheel:i=!1}){this.element=e,this.wheelMultiplier=t,this.touchMultiplier=n,this.normalizeWheel=i,this.pointer={active:!1},this.touchStart={x:null,y:null},this.lastDelta={x:0,y:0},this.emitter=new xD,this.element.addEventListener("wheel",this.onWheel,{passive:!1}),"ontouchstart"in window?(this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})):(this.element.addEventListener("mousedown",this.onTouchStart,{passive:!1}),this.element.addEventListener("mousemove",this.onTouchMove,{passive:!1}),this.element.addEventListener("mouseup",this.onTouchEnd,{passive:!1}))}on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),"ontouchstart"in window?(this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})):(this.element.removeEventListener("mousedown",this.onTouchStart,{passive:!1}),this.element.removeEventListener("mousemove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("mouseup",this.onTouchEnd,{passive:!1}))}onTouchStart=e=>{if(this.pointer.active)return;this.pointer.active=!0;const{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})};onTouchMove=e=>{if(!this.pointer.active)return;const{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e,i=-(t-this.touchStart.x)*this.touchMultiplier,r=-(n-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:i,y:r},this.emitter.emit("scroll",{deltaX:i,deltaY:r,event:e})};onTouchEnd=e=>{this.pointer.active=!1,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})};onWheel=e=>{let{deltaX:t,deltaY:n}=e;this.normalizeWheel&&(t=Lf(-100,t,100),n=Lf(-100,n,100)),t*=this.wheelMultiplier,n*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:n,event:e})}};class yD extends zt{async init(){super.init(),this.container=this.el.querySelector(".ui-work-container"),this.virtualScroll=new Cg(window,{touchMultiplier:1,wheelMultiplier:1,normalizeWheel:!1}),this.projects=is.getProjects(),this.mouseF=0,this.checkActive=!1,this.activeColor=sr(this.projects[0].data.colors.primary),this.onRaf=this.onRaf.bind(this),this.onNavClick=this.onNavClick.bind(this),this.onVirtualScroll=this.onVirtualScroll.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onWorkGalleryOut=this.onWorkGalleryOut.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.activeHook=0,this.targetHook=0,this.sceneRotation=0,this.zoom=0,this.isTransitioning=!1,this.totalItems=this.projects.length-1,this.index={current:0,prev:this.totalItems,next:1},this.scroll={virtual:this.projects.length*1e5,target:this.projects.length*1e5,animated:this.projects.length*1e5,current:0,progress:0,limit:this.projects.length*1e3,velocity:0,diff:0,remainder:0,step:1e3,offset:0,active:!1},Qe.workState&&(this.scroll=Qe.workState.scroll,this.index=Qe.workState.index,this.activeProject=Qe.workState.activeProject,this.activeHook=Qe.workState.activeHook,this.targetHook=Qe.workState.targetHook,this.sceneRotation=Qe.workState.sceneRotation),this.rotation=0,this.onProjectActive=this.onProjectActive.bind(this)}async animateIn(){J.workScene.setMouseFactor(0),be.setCameraControllerSettings(new L(0,0,0),new Q(1,.5),20),ln.playPlucks(),oe.to(this,{mouseF:1,duration:3,ease:"none",onUpdate:()=>{J.workScene.setMouseFactor(this.mouseF)}}),this.projects.forEach((e,t)=>{J.workScene.blocks[t].instance.material.customUniforms.uReveal.value=0,oe.to(J.workScene.blocks[t].instance.material.customUniforms.uRevealProject,{value:1,ease:"none",duration:.5})}),Qe.currentProject!==null?this.onProjectActive(Qe.currentProject):this.onProjectActive(this.projects[0].id),this.scroll.active=!0}async addEvents(){super.addEvents(),this.virtualScroll.on("scroll",this.onVirtualScroll),pe.on(xe.NAV_CLICK,this.onNavClick),pe.on(xe.WORK_GALLERY_OUT,this.onWorkGalleryOut),addEventListener("keydown",this.onKeyDown),addEventListener("mousedown",this.onMouseDown),kt.add(this.onRaf,this.id),this.calcScrollHooks(),await J.initPromise,J.workScene.sceneWrap.rotation.y=_a.degToRad(this.scroll.progress*360+180)}destroy(){super.destroy(),Qe.workState={scroll:this.scroll,index:this.index,activeProject:this.activeProject,activeHook:this.activeHook,targetHook:this.targetHook,sceneRotation:this.sceneRotation},this.virtualScroll.destroy(),pe.off(xe.NAV_CLICK,this.onNavClick),pe.off(xe.WORK_GALLERY_OUT,this.onWorkGalleryOut),removeEventListener("keydown",this.onKeyDown),removeEventListener("mousedown",this.onMouseDown),kt.remove(this.id)}finalScrollPosition(e){const t=this.index.current,i=this.projects.length/2,o=Math.abs(t-e)<=i,a=t>i;if(o)return this.projectsObjects[e].hook+this.scroll.remainder;if(a&&!o)return this.projectsObjects[e].hook+this.scroll.remainder+this.scroll.limit;if(!a&&!o)return this.projectsObjects[e].hook+this.scroll.remainder-(this.scroll.virtual>this.scroll.target?0:this.scroll.limit)}onNavClick({slug:e}){clearTimeout(this.navClickTimeOut),this.isTransitioning=!0;const t=this.projects.findIndex(i=>i.id===e),n=this.finalScrollPosition(t);this.scrollTo(n),this.setProjectActive(t),this.navClickTimeOut=setTimeout(()=>{this.isTransitioning=!1},1200)}scrollTo(e){this.scroll.virtual=e,this.scrollToAnimation?.kill(),this.scrollToAnimation=oe.to(this.scroll,{target:e,duration:1.6,ease:"expo.out"})}next(){this.nextTransitioning=!0,this.scrollTo(this.scroll.virtual+this.scroll.step),this.nextTimeOut=setTimeout(()=>{this.nextTransitioning=!1},800),this.prevTransitioning}prev(){this.prevTransitioning=!0,this.scrollTo(this.scroll.virtual-this.scroll.step),this.prevTimeOut=setTimeout(()=>{this.prevTransitioning=!1},800),this.nextTransitioning}onVirtualScroll({deltaX:e,deltaY:t,event:n}){this.scroll.active&&(this.nextTransitioning||this.prevTransitioning||(this.snapTimeOut&&clearTimeout(this.snapTimeOut),this.snap=!0,this.delta=Math.abs(t)>Math.abs(e)?t:e,this.scroll.diff+=this.delta,this.delta>15?this.next():this.delta<-15&&this.prev(),this.snapTimeOut=setTimeout(()=>{this.snap=!0},100)))}checkSpeed(){Math.abs(this.virtualScroll.lastDelta.x)+Math.abs(this.virtualScroll.lastDelta.y)*.001>.2&&this.virtualScroll.pointer.active?this.deactivatePointerEvents():this.activatePointerEvents()}deactivatePointerEvents(){this.clickable&&(this.el.classList.add("is-dragging"),this.clickable=!1)}activatePointerEvents(){this.clickable||(this.el.classList.remove("is-dragging"),this.clickable=!0)}calcScrollHooks(){this.projectsObjects=[],this.projects.forEach((e,t)=>{const n={id:e.id,hook:t*this.scroll.step};this.projectsObjects.push(n)})}async onProjectActive(e){this.activeProject=e,this.inAnimation?.kill(),this.inAnimation=oe.timeline();const t=is.getProjectById(e),n=this.projects.findIndex(a=>a.id===e),i=t.data.ambient||.5;let r=sr(t.data.colors.secondary);i<0&&t.data.colors.invert&&(r=sr(t.data.colors.invert)),be.setSpotLightIntensity(t.data.spotlight||J.workScene.maxSpotLightIntensity,1),be.setRevealSpread(0),ln.playWoosh(),J.workScene.blocks.forEach((a,c)=>{c!==n&&this.inAnimation.to(a.instance.material.customUniforms.uReveal,{value:0,ease:"power4.out",duration:1.6},0)}),this.inAnimation.to(J.workScene.blocks[n].instance.material.customUniforms.uReveal,{value:1,delay:.2,ease:"power4.out",duration:4},0);const o=sr(t.data.colors.primary);be.setAmbientLight(r,i),be.setMainColor(o),be.setDarken(t.data.darkenOverview||.1),be.setSaturation(t.data.saturation||1),be.setContrast(t.data.contrast||1.15),be.setThumbDarknessIntensity(t.data.thumbnail.darkness||0),be.setThumbDarknessColor(t.data.thumbnail.darknessColor||"#000000"),be.setThumbSaturation(t.data.thumbnail.saturation||1),be.setThumbMouseLightness(t.data.thumbnail.mouseLightness||1),be.setDirectionalLightIntensity(1.5)}onRaf({time:e,delta:t,frame:n,fps:i}){this.scroll.velocity=this.scroll.target-this.scroll.animated,this.checkSpeed(),this.snap&&(this.scroll.diff=Yi(this.scroll.diff,0,5,t)),this.scroll.targetPlusDiff=this.scroll.target+this.scroll.diff,this.scroll.remainder=this.scroll.target-this.scroll.target%this.scroll.limit,this.scroll.animated=Yi(this.scroll.animated,this.scroll.targetPlusDiff,5,t),this.scroll.current=LT(this.scroll.animated,this.scroll.limit),this.scroll.progress=this.scroll.current/this.scroll.limit,this.isTransitioning||this.setActiveItemOnScroll(),this.updateScene(t)}setActiveItemOnScroll(){if(!this.scroll.active)return;let e=Fn(Math.abs(this.scroll.current%this.scroll.limit/this.scroll.step),0);this.scroll.current>this.scroll.limit-this.scroll.step/2&&(e=0),this.activeHook=this.projectsObjects[e].hook+this.scroll.remainder,this.projects[e]&&this.setProjectActive(e)}setProjectActive(e){const t=this.projects[e];t.id!==this.activeProject&&(this.updateIndex(e),this.onProjectActive(t.id),this.targetHook=this.projectsObjects[e].hook+this.scroll.remainder,pe.emit(xe.PROJECT_ACTIVE,t.id),Qe.currentProject=t.id)}updateIndex(e){this.index.current=e,this.index.current<0?this.index.current=this.totalItems:this.index.current>this.totalItems&&(this.index.current=0),this.index.prev=this.index.current===0?this.totalItems:this.index.current-1,this.index.next=this.index.current===this.totalItems?0:this.index.current+1}updateScene(e){if(!this.scroll.active)return;J.workScene.sceneWrap.rotation.y=_a.degToRad(this.scroll.progress*360+180),J.mainScene.renderManager.compositeMaterial.uniforms.uTransformX.value=this.scroll.progress*1,J.workThumbScene.thumbs.updateGalleryProgress(-this.scroll.progress);const t=4,n=bo(this.scroll.velocity*-.015,-t,t);this.sceneRotation=Yi(this.sceneRotation,n,5,e),J.workScene.scene.rotation.z=_a.degToRad(this.sceneRotation);const i=1,r=bo(Math.abs(this.scroll.velocity*.0015),0,i);this.zoom=Yi(this.zoom,r,5,e),J.workScene.scene.position.z=J.workScene.scene.rotation.z-this.zoom}onMouseDown(e){e.preventDefault()}onKeyDown(e){switch(e=e||window.event,e.code){case"ArrowDown":this.next();break;case"ArrowRight":this.next();break;case"ArrowLeft":this.prev();break;case"ArrowUp":this.prev();break}}async onWorkGalleryOut(){this.inAnimation?.kill(),ln.playSoftWoosh(),be.setRevealSpread(1,.65,"power3.in"),be.setSpotLightIntensity(0,1,"none"),J.workScene.blocks.forEach((e,t)=>{oe.to(e.instance.material.customUniforms.uRevealProject,{value:0,ease:"none",duration:.5})})}}class Rg extends zt{async init(){super.init(),this.inner=this.el.querySelector(".ui-title-inner")}animateIn(){oe.fromTo(this.inner,{y:"102%"},{y:0,duration:1.8,stagger:.01,ease:"expo.out"})}}class Ou extends zt{async init(){super.init(),this.socials=this.el.querySelectorAll(".social-a > span"),this.contact=this.el.querySelector(".ui-footer-contact a > span"),this.onResize=this.onResize.bind(this)}async addEvents(){super.addEvents(),addEventListener("resize",this.onResize),await fn(200),this.onResize()}destroy(){super.destroy(),removeEventListener("resize",this.onResize)}onResize(){this.text=Pe.w>=Le.BREAKPOINTS.LG?"hello@rogierdeboeve.com":"E-mail",this.text.toUpperCase()!==this.contact.innerText&&(this.contact.innerText=this.text)}animateIn(){oe.fromTo(this.socials,{y:"102%"},{y:0,duration:1.8,delay:.4,stagger:.06,ease:"expo.out"}),oe.fromTo(this.contact,{y:"102%"},{y:0,duration:1.8,delay:.5,stagger:.06,ease:"expo.out"})}}class SD extends sl{async init(){super.init(),this.add(".ui-footer",Ou,this.el,"PageFooter"),this.add(".ui-work-ul",vD,this.el,"WorkNav"),this.add(".ui-title",Rg,this.el,"PageTitle"),this.add(".ui-work-content",yD,this.el,"WorkGallery"),this.add(".ui-progressbar",_D,this.el,"WorkProgressbar"),await J.initPromise,J.workScene.spotLight.map=J.workThumbScene.renderManager.renderTargetComposite.texture,J.workScene.spotLight.position.set(0,0,3.7),J.workScene.spotLight.target.position.set(0,0,-8),J.workScene.spotLight.intensity=220,pe.emit(xe.RESIZE)}destroy(){super.destroy()}animateIn(){if(super.animateIn(),Qe.currentProject!==null)pe.emit(xe.PROJECT_ACTIVE,Qe.currentProject);else{const e=is.getProjects();pe.emit(xe.PROJECT_ACTIVE,e[0].id)}Ki.animateDescriptionIn(),Ki.animateAvailibilityIn(),be.showScene()}onLeave(){super.onLeave(),Ki.animateDescriptionOut(),Ki.animateAvailibilityOut()}}function Pg(s,e,t){return Math.max(s,Math.min(e,t))}class bD{advance(e){if(!this.isRunning)return;let t=!1;if(this.lerp)this.value=function(i,r,o,a){return function(u,d,l){return(1-l)*u+l*d}(i,r,1-Math.exp(-o*a))}(this.value,this.to,60*this.lerp,e),Math.round(this.value)===this.to&&(this.value=this.to,t=!0);else{this.currentTime+=e;const n=Pg(0,this.currentTime/this.duration,1);t=n>=1;const i=t?1:this.easing(n);this.value=this.from+(this.to-this.from)*i}t&&this.stop(),this.onUpdate?.(this.value,t)}stop(){this.isRunning=!1}fromTo(e,t,{lerp:n=.1,duration:i=1,easing:r=c=>c,onStart:o,onUpdate:a}){this.from=this.value=e,this.to=t,this.lerp=n,this.duration=i,this.easing=r,this.currentTime=0,this.isRunning=!0,o?.(),this.onUpdate=a}}class MD{constructor({wrapper:e,content:t,autoResize:n=!0,debounce:i=250}={}){this.wrapper=e,this.content=t,n&&(this.debouncedResize=function(o,a){let c;return function(){let u=arguments,d=this;clearTimeout(c),c=setTimeout(function(){o.apply(d,u)},a)}}(this.resize,i),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class Lg{constructor(){this.events={}}emit(e,...t){let n=this.events[e]||[];for(let i=0,r=n.length;i<r;i++)n[i](...t)}on(e,t){return this.events[e]?.push(t)||(this.events[e]=[t]),()=>{this.events[e]=this.events[e]?.filter(n=>t!==n)}}off(e,t){this.events[e]=this.events[e]?.filter(n=>t!==n)}destroy(){this.events={}}}const If=100/6;class ED{constructor(e,{wheelMultiplier:t=1,touchMultiplier:n=1}){this.element=e,this.wheelMultiplier=t,this.touchMultiplier=n,this.touchStart={x:null,y:null},this.emitter=new Lg,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}onTouchStart=e=>{const{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})};onTouchMove=e=>{const{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e,i=-(t-this.touchStart.x)*this.touchMultiplier,r=-(n-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:i,y:r},this.emitter.emit("scroll",{deltaX:i,deltaY:r,event:e})};onTouchEnd=e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})};onWheel=e=>{let{deltaX:t,deltaY:n,deltaMode:i}=e;t*=i===1?If:i===2?this.windowWidth:1,n*=i===1?If:i===2?this.windowHeight:1,t*=this.wheelMultiplier,n*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:n,event:e})};onWindowResize=()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight}}class Ig{constructor({wrapper:e=window,content:t=document.documentElement,wheelEventsTarget:n=e,eventsTarget:i=n,smoothWheel:r=!0,syncTouch:o=!1,syncTouchLerp:a=.075,touchInertiaMultiplier:c=35,duration:u,easing:d=S=>Math.min(1,1.001-Math.pow(2,-10*S)),lerp:l=!u&&.1,infinite:h=!1,orientation:f="vertical",gestureOrientation:g="vertical",touchMultiplier:v=1,wheelMultiplier:m=1,autoResize:p=!0,prevent:x=!1,__experimental__naiveDimensions:_=!1}={}){this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:S,deltaY:M,event:E})=>{if(E.ctrlKey)return;const w=E.type.includes("touch"),C=E.type.includes("wheel");if(this.isTouching=E.type==="touchstart"||E.type==="touchmove",this.options.syncTouch&&w&&E.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const y=S===0&&M===0,b=this.options.gestureOrientation==="vertical"&&M===0||this.options.gestureOrientation==="horizontal"&&S===0;if(y||b)return;let U=E.composedPath();U=U.slice(0,U.indexOf(this.rootElement));const z=this.options.prevent;if(U.find(k=>{var j,D,K,q,te;return(typeof z=="function"?z?.(k):z)||((j=k.hasAttribute)===null||j===void 0?void 0:j.call(k,"data-lenis-prevent"))||w&&((D=k.hasAttribute)===null||D===void 0?void 0:D.call(k,"data-lenis-prevent-touch"))||C&&((K=k.hasAttribute)===null||K===void 0?void 0:K.call(k,"data-lenis-prevent-wheel"))||((q=k.classList)===null||q===void 0?void 0:q.contains("lenis"))&&!(!((te=k.classList)===null||te===void 0)&&te.contains("lenis-stopped"))}))return;if(this.isStopped||this.isLocked)return void E.preventDefault();if(!(this.options.syncTouch&&w||this.options.smoothWheel&&C))return this.isScrolling="native",void this.animate.stop();E.preventDefault();let P=M;this.options.gestureOrientation==="both"?P=Math.abs(M)>Math.abs(S)?M:S:this.options.gestureOrientation==="horizontal"&&(P=S);const O=w&&this.options.syncTouch,F=w&&E.type==="touchend"&&Math.abs(P)>5;F&&(P=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+P,Object.assign({programmatic:!1},O?{lerp:F?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(clearTimeout(this.__resetVelocityTimeout),delete this.__resetVelocityTimeout,this.__preventNextNativeScrollEvent)delete this.__preventNextNativeScrollEvent;else if(this.isScrolling===!1||this.isScrolling==="native"){const S=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-S,this.direction=Math.sign(this.animatedScroll-S),this.isScrolling=!!this.hasScrolled&&"native",this.emit(),this.velocity!==0&&(this.__resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}},window.lenisVersion="1.1.1",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:t,wheelEventsTarget:n,eventsTarget:i,smoothWheel:r,syncTouch:o,syncTouchLerp:a,touchInertiaMultiplier:c,duration:u,easing:d,lerp:l,infinite:h,gestureOrientation:g,orientation:f,touchMultiplier:v,wheelMultiplier:m,autoResize:p,prevent:x,__experimental__naiveDimensions:_},this.animate=new bD,this.emitter=new Lg,this.dimensions=new MD({wrapper:e,content:t,autoResize:p}),this.updateClassName(),this.userData={},this.time=0,this.velocity=this.lastVelocity=0,this.isLocked=!1,this.isStopped=!1,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new ED(i,{touchMultiplier:v,wheelMultiplier:m}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName()}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit({userData:e={}}={}){this.userData=e,this.emitter.emit("scroll",this),this.userData={}}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const t=e-(this.time||e);this.time=e,this.animate.advance(.001*t)}scrollTo(e,{offset:t=0,immediate:n=!1,lock:i=!1,duration:r=this.options.duration,easing:o=this.options.easing,lerp:a=!r&&this.options.lerp,onStart:c,onComplete:u,force:d=!1,programmatic:l=!0,userData:h={}}={}){if(!this.isStopped&&!this.isLocked||d){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let f;if(typeof e=="string"?f=document.querySelector(e):e?.nodeType&&(f=e),f){if(this.options.wrapper!==window){const v=this.options.wrapper.getBoundingClientRect();t-=this.isHorizontal?v.left:v.top}const g=f.getBoundingClientRect();e=(this.isHorizontal?g.left:g.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=t,e=Math.round(e),this.options.infinite?l&&(this.targetScroll=this.animatedScroll=this.scroll):e=Pg(0,e,this.limit),n)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(u==null||u(this));e!==this.targetScroll&&(l||(this.targetScroll=e),this.animate.fromTo(this.animatedScroll,e,{duration:r,easing:o,lerp:a,onStart:()=>{i&&(this.isLocked=!0),this.isScrolling="smooth",c?.(this)},onUpdate:(f,g)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=f-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=f,this.setScroll(this.scroll),l&&(this.targetScroll=f),g||this.emit({userData:h}),g&&(this.reset(),this.emit({userData:h}),u?.(this),this.__preventNextNativeScrollEvent=!0)}}))}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?function(t,n){return(t%n+n)%n}(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.updateClassName())}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.updateClassName())}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isScrolling==="smooth"&&(e+=" lenis-smooth"),e}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}}class wD extends zt{init(){super.init(),this.thumbRef=this.el.querySelector(".ui-scrollbar-thumb"),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onScroll=this.onScroll.bind(this),this.onResize=this.onResize.bind(this),this.updateBounds()}async addEvents(){super.addEvents(),await this.page.scrollPromise,this.page.scroll&&(this.el.style.opacity=1,this.el.addEventListener("pointerdown",this.onPointerDown),addEventListener("pointermove",this.onPointerMove),addEventListener("pointerup",this.onPointerUp),this.page.scroll.on("scroll",this.onScroll),addEventListener("resize",this.onResize),this.onResize())}destroy(){super.destroy(),this.el.removeEventListener("pointerdown",this.onPointerDown),removeEventListener("pointermove",this.onPointerMove),removeEventListener("pointerup",this.onPointerUp),removeEventListener("resize",this.onResize),this.onResize()}onResize(){this.updateBounds(),this.page.scroll&&(this.page.scroll.limit>window.innerHeight?this.el.style.opacity=1:this.el.style.opacity=0)}updateBounds(){this.thumbHeight=this.thumbRef.offsetHeight,this.innerHeight=this.el.offsetHeight}onPointerDown(e){this.start=e.clientY}onPointerMove(e){if(!this.start)return;e.preventDefault();const t=Cs(e.clientY,this.start,this.innerHeight-(this.thumbHeight-this.start),0,this.page.scroll.limit);this.page.scroll.scrollTo(t,{immediate:!0})}onPointerUp(e){this.start=null}onScroll({scroll:e,limit:t}){const n=e/t;this.thumbRef.style.transform=`translate3d(0,${n*(this.innerHeight-this.thumbHeight)}px,0)`}}class Ug extends sl{async init(){super.init(),this.setScrollSettings(),this.scrollPromise=new Promise(e=>{this.scrollResolve=e}),this.add(".ui-scrollbar",wD,this.el,"Scrollbar"),this.onRaf=this.onRaf.bind(this),this.onScroll=this.onScroll.bind(this)}setScrollSettings(){this.scrollSettings={}}async initScroll(){await J.initPromise,this.scroll=new Ig(this.scrollSettings),kt.add(this.onRaf,this.id),kt.moveToFirst(this.id),this.scrollResolve(),this.scroll.on("scroll",this.onScroll)}onRaf({frame:e}){this.scroll.raf(e)}onScroll(){this.scroll.scroll>20?document.documentElement.classList.add("is-scrolled"):document.documentElement.classList.remove("is-scrolled")}destroy(){super.destroy(),this.scroll?.destroy(),kt.remove(this.id),document.documentElement.classList.remove("is-scrolled")}resetScroll(){window.scrollTo(0,0),document.body.scrollTop=0,history.scrollRestoration&&(history.scrollRestoration="manual")}async onLoaderEnd(){super.onLoaderEnd(),this.resetScroll(),this.initScroll()}onEnter(){super.onEnter(),this.resetScroll(),this.initScroll()}}class TD extends zt{async init(){this.onScroll=this.onScroll.bind(this),this.onRaf=this.onRaf.bind(this),super.init()}async addEvents(){super.addEvents(),await this.page.scrollPromise,await J.initPromise,be.setSpotLightIntensity(0,0),J.workScene.aboutBlocks.track=this.el,J.workScene.aboutBlocks.visible=!0,J.workScene.spotLightParallax=!1,await fn(100),kt.add(this.onRaf,"aboutVisual"),J.workScene.spotLight.map=J.characterScene.renderManager.renderTargetComposite.texture,J.characterScene.character.rotatableMesh.addEvents(),pe.emit(xe.FORCE_RESIZE),await fn(200),this.onScroll()}destroy(){super.destroy(),kt.remove("aboutVisual"),J.workScene.aboutBlocks.track=null,J.workScene.aboutBlocks.visible=!1,J.workScene.spotLightParallax=!0,J.characterScene.character.rotatableMesh.removeEvents()}updateSpotLight(){J.workScene.spotLight.position.set(J.workScene.aboutBlocks.position.x-.5,J.workScene.aboutBlocks.position.y,J.workScene.aboutBlocks.position.z+4.2),J.workScene.spotLight.target.position.set(J.workScene.aboutBlocks.position.x+1.5,J.workScene.aboutBlocks.position.y,J.workScene.aboutBlocks.position.z-8)}onRaf(){this.onScroll()}onScroll(){const e=this.page.scroll.scroll;this.updateSpotLight();const t=Cs(e,0,Pe.h*.25,1,0,!0);Pe.w>=Le.BREAKPOINTS.LG?J.workScene.aboutBlocks.material.customUniforms.uScrollOpacity.value=1:J.workScene.aboutBlocks.material.customUniforms.uScrollOpacity.value=t}animateOut(){this.outAnim&&this.outAnim.kill(),this.outAnim=oe.timeline(),this.outAnim.to(J.workScene.aboutBlocks.material.customUniforms.uReveal,{value:0,ease:"expo.out",duration:1,onComplete:()=>{J.workScene.aboutBlocks.visible=!1}}),this.outAnim.to(J.workScene.aboutBlocks.material.customUniforms.uRevealSpread,{value:1,ease:"none",duration:1},0),be.setSpotLightIntensity(0)}animateIn(){this.inAnim&&this.inAnim.kill(),this.inAnim=oe.timeline(),this.inAnim.to(J.workScene.aboutBlocks.material.customUniforms.uReveal,{value:1,delay:.3,ease:"expo.out",duration:1.6,onStart:()=>{be.setSpotLightIntensity(270)}}),this.inAnim.to(J.workScene.aboutBlocks.material.customUniforms.uRevealSpread,{value:0,ease:"expo.out",duration:1.6},0)}}class Fg extends zt{async addEvents(){await J.initPromise,super.addEvents(),this.translation=.005,this.onRaf=this.onRaf.bind(this),kt.add(this.onRaf,"FloatingBlocks update")}destroy(){super.destroy(),kt.remove("FloatingBlocks update")}onRaf(e){J.workScene.floatingBlocks.update(e),this.page.scroll&&(J.workScene.floatingBlocks.translationZ+=this.translation*Math.abs(this.page.scroll.velocity))}animateOut(){this.outAnim&&this.outAnim.kill(),this.outAnim=oe.timeline(),this.outAnim.to(J.workScene.floatingBlocks.material.customUniforms.uReveal,{value:0,ease:"expo.out",duration:1,onComplete:()=>{J.workScene.floatingBlocks.visible=!1}}),this.outAnim.to(J.workScene.floatingBlocks.material.customUniforms.uRevealSpread,{value:0,ease:"none",duration:1},0)}animateIn(){this.outAnim&&this.outAnim.kill(),this.inAnim&&this.inAnim.kill(),this.inAnim=oe.timeline(),this.inAnim.to(J.workScene.floatingBlocks.material.customUniforms.uReveal,{value:1,ease:"expo.out",duration:1.6,onStart:()=>{J.workScene.floatingBlocks.visible=!0}}),this.inAnim.to(J.workScene.floatingBlocks.material.customUniforms.uRevealSpread,{value:1,ease:"none",duration:1.6},0)}}class AD extends zt{init(){super.init(),this.page.el.appendChild(this.el),this.delay={enter:0,leave:300},this.triggers=this.getAll(`[data-modal-trigger='${this.el.dataset.modal}']`,this.page.el),this.closeButton=this.get(".c-modal-close"),this.bg=this.get(".c-modal-outer"),this.inner=this.get(".c-modal-inner"),this.onRaf=this.onRaf.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.el.style.opacity=0,this.el.style.pointerEvents="none"}addEvents(){super.addEvents(),pe.on(xe.MODAL_SHOW,this.showModal.bind(this)),this.triggers&&this.triggers.forEach(e=>e.addEventListener("click",this.onClick.bind(this))),this.closeButton&&this.closeButton.addEventListener("click",this.onClose.bind(this)),document.addEventListener("keydown",this.onKeyDown)}destroy(){super.destroy(),pe.off(xe.MODAL_SHOW,this.showModal.bind(this)),this.triggers&&this.triggers.forEach(e=>e.removeEventListener("click",this.onClick.bind(this))),this.closeButton&&this.closeButton.removeEventListener("click",this.onClose.bind(this)),document.removeEventListener("keydown",this.onKeyDown)}onKeyDown(e){e.keyCode===27&&this.hideModal()}onClick(e){e.preventDefault(),this.showModal()}onClose(e){e.preventDefault(),this.hideModal()}showModal(e=null){e&&e!==this.el.dataset.modal||(this.el.style.pointerEvents="all",this.el.style.display="block",this.page.scroll.stop(),this.scroll=new Ig({wrapper:this.el,content:this.get(".c-modal-outer")}),kt.add(this.onRaf,this.id),oe.fromTo(this.el,{opacity:0},{opacity:1,duration:.5,ease:"none"}),pe.emit(xe.MODAL_OPEN,this.id))}onRaf({frame:e}){this.scroll.raf(e)}hideModal(){this.el.style.pointerEvents="none",this.page.scroll.start(),this.scroll?.destroy(),kt.remove(this.id),oe.to(this.el,{opacity:0,duration:.5,ease:"none",onComplete:()=>{this.el.style.display="none"}})}}class DD extends Ug{async init(){super.init(),this.add(".ui-footer",Ou,this.el,"PageFooter"),this.add(".ui-title",Rg,this.el,"PageTitle"),this.add(".ui-about-hero-visual",TD,this.el,"AboutVisual"),this.add(".ui-about-hero",Fg,this.el,"FloatingBlocksComponent"),this.add("[data-modal]",AD,this.el,"Modal",!0),this.introTitle=this.el.querySelector(".ui-about-intro .ts-1"),this.introText=this.el.querySelectorAll(".ui-about-intro .ts-p"),await J.initPromise,pe.emit(xe.RESIZE),be.setMainColor(xt.colors.primary),be.setDarken(xt.darken),be.setSaturation(xt.saturation),be.setContrast(xt.contrast),be.setMediaBackground(xt.colors.primary),be.setAmbientLight("#000000",xt.ambient),be.setDirectionalLightIntensity(5)}destroy(){super.destroy()}animateIn(){super.animateIn(),oe.fromTo(this.introTitle.querySelectorAll(".line-inner"),{opacity:0,y:"80%"},{opacity:1,y:0,duration:1.8,stagger:.05,ease:"expo.out"}),this.introText.forEach((e,t)=>{oe.fromTo(e.querySelectorAll(".line-inner"),{y:"80%",opacity:0},{y:0,opacity:1,duration:1.8,delay:.3+t*.1,stagger:.05,ease:"expo.out"})})}}class Ng extends zt{async init(){super.init(),this.bg=this.el.querySelector(".c-button-bg"),this.textInner=this.el.querySelector(".c-button-text-inner"),this.formatButton=this.formatButton.bind(this),this.formatButton()}formatButton(){const e=this.bg.offsetHeight,t=this.bg.offsetWidth;this.svg=this.get("svg"),this.rect=this.svg.querySelector(".c-button-bg-static"),this.rectHover=this.svg.querySelector(".c-button-bg-hover"),this.line=this.svg.querySelector("line"),this.svg.setAttribute("width",t),this.svg.setAttribute("height",e),this.svg.setAttribute("viewBox",`0 0 ${t} ${e}`),this.rect.setAttribute("width",t),this.rect.setAttribute("height",e),this.rectHover.setAttribute("width",t),this.rectHover.setAttribute("height",e),this.rect.setAttribute("height",e-2),this.rectHover.setAttribute("height",e-2)}async addEvents(){super.addEvents(),pe.on(xe.RESIZE,this.formatButton)}destroy(){super.destroy(),pe.off(xe.RESIZE,this.formatButton)}animateIn(){this.animateTL=oe.timeline({delay:0}),this.animateTL.fromTo(this.el,{opacity:0},{opacity:1,duration:.3,ease:"none"}),this.animateTL.fromTo(this.textInner,{opacity:0,y:"102%"},{opacity:1,y:0,duration:1.6,ease:"expo.out"},0)}}class CD extends zt{async init(){super.init(),this.project=this.page.project,this.nextProject=is.getProjectById(this.el.dataset.projectSlug),this.nextActive=!1,this.settings={color:this.project.data.colors.primary,ambientColor:this.project.data.colors.secondary,ambientIntensity:this.project.data.ambient||.5,mediaBackground:this.project.data.colors.media||this.project.data.colors.primary,saturation:this.project.data.saturation||1,contrast:this.project.data.contrast||1.15,from:{color:this.project.data.colors.primary,ambientColor:this.project.data.colors.secondary,ambientIntensity:this.project.data.ambient||.5,mediaBackground:this.project.data.colors.media||this.project.data.colors.primary,saturation:this.project.data.saturation||1,contrast:this.project.data.contrast||1.15},to:{color:this.nextProject.data.colors.primary,ambientColor:this.nextProject.data.colors.secondary,ambientIntensity:this.nextProject.data.ambient||.5,mediaBackground:this.nextProject.data.colors.media||this.nextProject.data.colors.primary,saturation:this.nextProject.data.saturation||1,contrast:this.nextProject.data.contrast||1.15}},this.colorTl=oe.timeline(),this.settings.from&&this.settings.from.ambientIntensity<0&&this.project.data.colors.invert&&(this.settings.from.ambientColor=this.project.data.colors.invert),this.settings.to.ambientIntensity<0&&this.nextProject.data.colors.invert&&(this.settings.to.ambientColor=this.nextProject.data.colors.invert),this.colorTl.fromTo(this.settings,{color:this.settings.from.color,ambientColor:this.settings.from.ambientColor,ambientIntensity:this.settings.from.ambientIntensity,mediaBackground:this.settings.from.mediaBackground,saturation:this.settings.from.saturation,contrast:this.settings.from.contrast},{color:this.settings.to.color,ambientColor:this.settings.to.ambientColor,ambientIntensity:this.settings.to.ambientIntensity,mediaBackground:this.settings.to.mediaBackground,saturation:this.settings.to.saturation,contrast:this.settings.to.contrast,duration:1,ease:"none"}),this.onScroll=this.onScroll.bind(this)}async addEvents(){super.addEvents(),await this.page.scrollPromise,this.page.scroll.on("scroll",this.onScroll),window.addEventListener("resize",this.onResize),this.onResize()}destroy(){super.destroy(),this.page.scroll.off("scroll",this.onScroll),window.removeEventListener("resize",this.onResize)}onResize(){this.height=this.el?this.el.clientHeight:0,this.innerHeight=innerHeight}onScroll(e){const{scrollHeight:t}=e.dimensions,n=t-this.innerHeight;Cs(e.animatedScroll,n-this.height/2,n,0,1,!0)>=.01?this.nextActive||(this.nextActive=!0,be.setAmbientLight(this.settings.to.ambientColor,this.settings.to.ambientIntensity),be.setMainColor(this.settings.to.color),be.setMediaBackground(this.settings.to.mediaBackground),be.setSaturation(this.settings.to.saturation),be.setContrast(this.settings.to.contrast)):this.nextActive&&(this.nextActive=!1,be.setAmbientLight(this.settings.from.ambientColor,this.settings.from.ambientIntensity),be.setMainColor(this.settings.from.color),be.setMediaBackground(this.settings.from.mediaBackground),be.setSaturation(this.settings.from.saturation),be.setContrast(this.settings.from.contrast))}}class RD extends zt{async init(){super.init(),this.active=!0,this.onScroll=this.onScroll.bind(this),this.onResize=this.onResize.bind(this)}async addEvents(){super.addEvents(),await this.page.scrollPromise,this.page.scroll.on("scroll",this.onScroll),window.addEventListener("resize",this.onResize),this.onResize()}destroy(){super.destroy(),this.page.scroll.off("scroll",this.onScroll),window.removeEventListener("resize",this.onResize)}onResize(){this.height=this.el?this.el.clientHeight:0,Pe.w>=Le.BREAKPOINTS.LG?this.active=!0:(this.active=!1,this.el.style.opacity=1,this.el.style.transform="translate3d(0, 0, 0)")}onScroll(e){const t=this.page.scroll.scroll,n=Cs(t,0,this.height,1,0),i=Cs(t,0,this.height,0,25);this.active&&(this.el.style.opacity=n,this.el.style.transform=`translate3d(0, ${i}px, 0)`)}animateIn(){const e=this.getAll(".ui-project-text .line-inner");if(Pe.w<Le.BREAKPOINTS.LG)return;oe.fromTo(e,{y:"70%",opacity:0},{y:0,opacity:1,duration:1.8,stagger:.03,ease:"expo.out"});const t=this.getAll(".ts-2 > span");oe.fromTo(t,{y:"70%",opacity:0},{y:0,opacity:1,duration:1.8,stagger:.03,ease:"expo.out"});const n=this.getAll(".ui-project-info-items");oe.fromTo(n,{y:"70%",opacity:0},{y:0,opacity:1,duration:1.8,ease:"expo.out"});const i=this.getAll(".ui-project-links");oe.fromTo(i,{y:"70%",opacity:0},{y:0,opacity:1,duration:1.8,ease:"expo.out"}),this.getAll(".ui-project-info-item").forEach((o,a)=>{oe.fromTo(o.querySelectorAll("span"),{y:"102%",opacity:0},{y:0,delay:.1*a,opacity:1,duration:1.8,stagger:.03,ease:"expo.out"})})}}class PD extends zt{init(){super.init(),this.sectionViewed=!1,this.lastViewed=!1,this.inView=this.inView.bind(this),this.animateIn=this.animateIn.bind(this),this.animateOut=this.animateOut.bind(this)}observe(){this.observer=new IntersectionObserver(this.inView,{threshold:0,rootMargin:"0% 0% 0% 0%"}),this.observer.observe(this.el)}unobserve(){this.observer.unobserve(this.el)}onEnter(){}onLeave(){}animateIn(){}animateOut(){}animateInOnScroll(){}inView(e){e.forEach(t=>{const{isIntersecting:n,target:i}=t;if(this.isIntersecting=n,i===this.el&&(n?this.onEnter():this.onLeave()),n)if(i===this.el){if(this.sectionViewed)return;this.animateInOnScroll(),this.sectionViewed=!0}else{if(this.lastViewed)return;this.lastViewed=!0}})}}const LD=`
precision highp float;

${fg}
vec4 coverTexture(sampler2D tex, vec2 imgSize, vec2 ouv, vec2 size) {
  vec2 s = size;
  vec2 i = imgSize;
  float rs = s.x / s.y;
  float ri = i.x / i.y;
  vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);
  vec2 newOffset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;
  vec2 uv = ouv * s / new + newOffset;

  return texture2D(tex, uv);
}

uniform sampler2D tMap;
uniform vec2 uMapSize;
uniform vec2 uContainerSize;
uniform float uCameraDistance;
uniform float uRadius;
uniform vec3 uBackgroundColor;
uniform float uReveal;

in vec2 vUv;
// in vec3 vCameraPosition;
out vec4 FragColor;

float udRoundBox( vec2 p, vec2 b, float r ) {
  return length(max(abs(p)-b+r,0.0))-r;
}

void main() {
  float parallax = uCameraDistance * 0.0001;  // Adjust the factor to control the strength of the parallax effect
  vec2 uv = vUv;
  
  uv.y -= parallax;

  // vec4 color = texture(tMap, uv);
  vec4 color = coverTexture(tMap, uMapSize, uv, uContainerSize);
  color.rgb = blendLighten(color.rgb, vec3(.02));

  vec2 res = uContainerSize;
  vec2 halfRes = 0.5 * res;
  float b = udRoundBox(vUv.xy * res - halfRes, halfRes, uRadius);    
  vec3 a = mix(vec3(1.0,0.0,0.0), vec3(0.0,0.0,0.0), smoothstep(0.0, 1.0, b));


  color.rgb = mix(color.rgb, uBackgroundColor, 1. - uReveal);

  color.a = a.x;
  FragColor = color;
}
`,ID=`
precision highp float;

uniform float uCircleRotation;
out vec2 vUv;
out vec3 vDir;
// out vec3 vCameraPosition;
void main() {
  vUv = uv;
  
  vec4 worldPosition = modelMatrix * vec4(position, 1.0);
  // vCameraPosition = worldPosition.xyz - cameraPosition;
  vec4 mvPosition = viewMatrix * worldPosition;
  gl_Position = projectionMatrix * mvPosition;
}
`;class UD extends Cn{constructor(){super({glslVersion:lt,toneMapped:!1,uniforms:{tMap:new I(null),uContainerSize:new I(new Q),uMapSize:new I(new Q),uCameraDistance:new I,uRadius:new I,uBackgroundColor:new I(new L),uReveal:new I(0)},vertexShader:ID,fragmentShader:LD,transparent:!0,depthWrite:!1,depthTest:!1})}}class FD extends rt{constructor({track:e,material:t=new UD,geometry:n=new Rn(1,1),scaleWidth:i=!0,offsetParent:r=null}){super(),this.track=e,this.active=!1,this.bounds=this.track.getBoundingClientRect(),this.offset=new Q,this.translation=new Q(0,-100),this.offsetParent=r,this.parallaxTop=this.track.dataset.mediaParallax==="top",this.scroll=window.scrollY,this.scrollParent=null,this.scaleWidth=i,this.geometry=n,this.material=t,this.planeMesh=new at(this.geometry,this.material),this.add(this.planeMesh)}updateBackground(){this.material.uniforms.uBackgroundColor.value=this.backgroundColor}getTrack(e){this.track=document.body.querySelector(e)}updateScroll(e){}update(e=window.scrollY){this.position.x=this.offset.x+this.translation.x,this.position.y=this.offset.y+this.translation.y+e,this.material.uniforms.uCameraDistance.value=J.mediaScene.camera.position.y-this.position.y,this.parallaxTop&&(this.material.uniforms.uCameraDistance.value=-e)}resize(e=this.track.offsetWidth,t=this.track.offsetHeight){const n=this.track.getBoundingClientRect();this.bounds={width:n.width,height:n.height,top:n.top+window.scrollY,left:n.left};const i=window.getComputedStyle(this.track),r=parseFloat(i.borderRadius);r>0&&(this.material.uniforms.uRadius.value=r),this.offset.set(-e/2+this.bounds.width/2+this.bounds.left,t/2-this.bounds.height/2-this.bounds.top),this.scale.set(this.bounds.width,this.bounds.height,1),this.material.uniforms.uContainerSize.value.set(this.bounds.width,this.bounds.height)}}class ND extends PD{async init(){super.init(),this.mediaItemInstance=new FD({track:this.el}),this.mediaSrc=this.el.getAttribute("data-media-src"),this.mediaType=this.mediaSrc.split(".").pop(),await J.initPromise;const e=this.el.getAttribute("data-media-width"),t=this.el.getAttribute("data-media-height");this.mediaItemInstance.planeMesh.material.uniforms.uMapSize.value.set(e,t),J.mediaScene.mediaItems.add(this.mediaItemInstance),this.onScroll(0),this.onScroll=this.onScroll.bind(this),this.onResize=this.onResize.bind(this)}animateInOnScroll(){this.mediaType==="mp4"||this.mediaType==="mov"?this.loadVideo(this.mediaSrc):this.loadImage(this.mediaSrc)}showMedia(){oe.fromTo(this.mediaItemInstance.planeMesh.material.uniforms.uReveal,{value:0},{value:1,duration:.5,ease:"none"})}async onEnter(){await this.loadPromise,this.video&&this.video.play()}async onLeave(){await this.loadPromise,this.video&&this.video.pause()}async loadImage(e){let t=e;Qe.imageWorker.addEventListener("message",n=>{if(n.data.src!==e)return;const i=e.split(".").pop();Le.WEBP||(t=e.replace(i,"jpg"));const r=new It(n.data.bitmap);r.needsUpdate=!0,this.mediaItemInstance.planeMesh.material.uniforms.tMap.value=r,this.showMedia()}),Qe.imageWorker.postMessage(t)}async loadVideo(e){this.video=Object.assign(document.createElement("video"),{crossOrigin:"Anonymous",muted:!0,loop:!0,start:!0,playsInline:!0}),this.video.addEventListener("loadedmetadata",()=>{this.mediaItemInstance.planeMesh.material.uniforms.uMapSize.value.set(this.video.videoWidth,this.video.videoHeight),this.showMedia()}),this.video.onended=function(){URL.revokeObjectURL(e)},Qe.videoWorker.addEventListener("message",t=>{if(t.data.src!==e)return;this.video.src=t.data.videoURL;const n=new Xm(this.video);this.mediaItemInstance.planeMesh.material.uniforms.tMap.value=n}),Qe.videoWorker.postMessage(e)}async addEvents(){super.addEvents(),await this.page.scrollPromise,pe.emit(xe.FORCE_RESIZE),pe.on(xe.RESIZE,this.onResize),this.page.scroll.on("scroll",this.onScroll),this.onScroll(0)}onResize(){Pe.w>=Le.BREAKPOINTS.LG?this.mediaItemInstance.planeMesh.visible=!0:this.mediaItemInstance.planeMesh.visible=!1,this.mediaItemInstance.update(this.page.scroll.scroll)}destroy(){super.destroy(),pe.off(xe.RESIZE,this.onResize),this.video&&this.video.pause(),this.video&&this.video.remove(),this.video=null}onScroll(e=this.page.scroll.scroll||0){this.mediaItemInstance.update(this.page.scroll.scroll)}}class OD extends Ug{async init(){super.init(),this.project=is.getProjectById(this.el.dataset.project),this.add(".c-button",Ng,this.el,"Button"),be.setMainColor(this.project.data.colors.primary),await J.initPromise,this.add(".ui-footer",Ou,this.el,"PageFooter"),this.add("[data-media]",ND,this.el,"ProjectMedia"),this.add(".ui-project-next",CD,this.el,"ProjectNext"),this.add(".ui-project-content-header",RD,this.el,"ProjectHeader"),be.setMediaOpacity(0,0,"none",0),be.setDarken(this.project.data.darkenDetail||.25),be.setSaturation(this.project.data.saturation||1),be.setContrast(this.project.data.contrast||1.15),be.setMediaBackground(this.project.data.colors.media||this.project.data.colors.primary),this.ambientColor=this.project.data.colors.secondary,this.ambientIntensity=this.project.data.ambient||.5,this.darkenDetail=this.project.data.darkenDetail||.25,this.project.data.ambient<0&&this.project.data.colors.invert&&(this.ambientColor=this.project.data.colors.invert),be.setAmbientLight(this.ambientColor,this.ambientIntensity),be.setFluidStrength(1),pe.emit(xe.RESIZE),Tr.setActive("home"),Ar.setActive("home")}destroy(){super.destroy()}animateIn(){super.animateIn(),pe.emit(xe.FORCE_RESIZE),be.setMainColor(this.project.data.colors.primary),be.setDarken(this.darkenDetail),be.setAmbientLight(this.ambientColor,this.ambientIntensity),be.mediaAnimateIn()}onLeave(){super.onLeave(),be.setMediaOpacity(0,.5,"none",0),be.setFluidStrength(.5)}}class kD extends sl{async init(){this.mouseDownActive=!1,this.translation=.01,this.translation2=0,this.delta=0,await J.initPromise,this.add(".c-button",Ng,this.el,"Button"),this.add(".ui-error-main",Fg,this.el,"FloatingBlocksComponent"),be.setMainColor(xt.colors.primary),be.setDarken(xt.darken),be.setSaturation(xt.saturation),be.setContrast(xt.contrast),be.setMediaBackground(xt.colors.primary),be.setAmbientLight("#000000",xt.ambient),be.setDirectionalLightIntensity(5),this.animateIn=this.animateIn.bind(this),pe.on(xe.ANIMATE_IN,this.animateIn)}addEvents(){super.addEvents(),this.virtualScroll=new Cg(window,{touchMultiplier:1,wheelMultiplier:1,normalizeWheel:!1}),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onTick=this.onTick.bind(this),this.onVirtualScroll=this.onVirtualScroll.bind(this),kt.add(this.onTick,"errorPage"),this.el.addEventListener("mousedown",this.onMouseDown),this.el.addEventListener("mouseup",this.onMouseUp),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){super.destroy(),kt.remove("errorPage"),this.virtualScroll.destroy(),this.el.removeEventListener("mousedown",this.onMouseDown),this.el.removeEventListener("mouseup",this.onMouseUp)}onMouseUp(){this.mouseDownAnimation?.kill(),this.mouseDownAnimation=oe.timeline(),this.mouseDownActive=!1,this.mouseDownAnimation.to(this,{translation2:0,duration:2,ease:"expo.out"})}onMouseDown(){this.mouseDownAnimation?.kill(),this.mouseDownAnimation=oe.timeline(),this.mouseDownActive=!0,this.mouseDownAnimation.to(this,{translation2:2.5,duration:2,ease:"expo.out"})}onVirtualScroll({deltaX:e,deltaY:t,event:n}){this.delta=Math.abs(Math.abs(t)>Math.abs(e)?t:e)}onTick(){J.workScene.floatingBlocks.translationZ+=this.translation2,this.delta>=.5&&(this.delta-=.5),J.workScene.floatingBlocks&&(J.workScene.floatingBlocks.translationZ+=this.translation*this.delta)}animateIn(){super.animateIn(),Tr.animateOut(),Ar.animateOut()}onLeave(){super.onLeave(),Tr.animateIn(),Ar.animateIn()}}class BD extends nl{async onLeave({from:e,trigger:t,done:n}){e.getAttribute("data-view")==="home"&&pe.emit(xe.WORK_GALLERY_OUT),await fn(500),n()}async onEnter({to:e,trigger:t,done:n}){Tr.updateNavActive(),Ar.updateNavActive(),await fn(100),pe.emit(xe.ANIMATE_IN),n()}}class zD extends nl{async onLeave({from:e,trigger:t,done:n}){pe.emit(xe.WORK_GALLERY_OUT),await fn(500),n()}async onEnter({to:e,trigger:t,done:n}){await fn(100),pe.emit(xe.ANIMATE_IN),n()}}class HD extends nl{async onLeave({from:e,trigger:t,done:n}){await fn(500),n()}async onEnter({to:e,trigger:t,done:n}){await fn(100),pe.emit(xe.ANIMATE_IN),n()}}function dc(s,e,t,n){return new(t||(t=Promise))(function(i,r){function o(u){try{c(n.next(u))}catch(d){r(d)}}function a(u){try{c(n.throw(u))}catch(d){r(d)}}function c(u){var d;u.done?i(u.value):(d=u.value,d instanceof t?d:new t(function(l){l(d)})).then(o,a)}c((n=n.apply(s,e||[])).next())})}const VD=["geforce 320m","geforce 8600","geforce 8600m gt","geforce 8800 gs","geforce 8800 gt","geforce 9400","geforce 9400m g","geforce 9400m","geforce 9600m gt","geforce 9600m","geforce fx go5200","geforce gt 120","geforce gt 130","geforce gt 330m","geforce gtx 285","google swiftshader","intel g41","intel g45","intel gma 4500mhd","intel gma x3100","intel hd 3000","intel q45","legacy","mali-2","mali-3","mali-4","quadro fx 1500","quadro fx 4","quadro fx 5","radeon hd 2400","radeon hd 2600","radeon hd 4670","radeon hd 4850","radeon hd 4870","radeon hd 5670","radeon hd 5750","radeon hd 6290","radeon hd 6300","radeon hd 6310","radeon hd 6320","radeon hd 6490m","radeon hd 6630m","radeon hd 6750m","radeon hd 6770m","radeon hd 6970m","sgx 543","sgx543"];function Uf(s){return s=s.toLowerCase().replace(/.*angle ?\((.+)\)(?: on vulkan [0-9.]+)?$/i,"$1").replace(/\s(\d{1,2}gb|direct3d.+$)|\(r\)| \([^)]+\)$/g,"").replace(/(?:vulkan|opengl) \d+\.\d+(?:\.\d+)?(?: \((.*)\))?/,"$1")}const Og=typeof window>"u",ei=(()=>{if(Og)return;const{userAgent:s,platform:e,maxTouchPoints:t}=window.navigator,n=/(iphone|ipod|ipad)/i.test(s),i=e==="iPad"||e==="MacIntel"&&t>0&&!window.MSStream;return{isIpad:i,isMobile:/android/i.test(s)||n||i,isSafari12:/Version\/12.+Safari/.test(s),isFirefox:/Firefox/.test(s)}})();function GD(s,e,t){if(!t)return[e];const n=function(u){const d=`
    precision highp float;
    attribute vec3 aPosition;
    varying float vvv;
    void main() {
      vvv = 0.31622776601683794;
      gl_Position = vec4(aPosition, 1.0);
    }
  `,l=`
    precision highp float;
    varying float vvv;
    void main() {
      vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * vvv;
      enc = fract(enc);
      enc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);
      gl_FragColor = enc;
    }
  `,h=u.createShader(35633),f=u.createShader(35632),g=u.createProgram();if(!(f&&h&&g))return;u.shaderSource(h,d),u.shaderSource(f,l),u.compileShader(h),u.compileShader(f),u.attachShader(g,h),u.attachShader(g,f),u.linkProgram(g),u.detachShader(g,h),u.detachShader(g,f),u.deleteShader(h),u.deleteShader(f),u.useProgram(g);const v=u.createBuffer();u.bindBuffer(34962,v),u.bufferData(34962,new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),35044);const m=u.getAttribLocation(g,"aPosition");u.vertexAttribPointer(m,3,5126,!1,0,0),u.enableVertexAttribArray(m),u.clearColor(1,1,1,1),u.clear(16384),u.viewport(0,0,1,1),u.drawArrays(4,0,3);const p=new Uint8Array(4);return u.readPixels(0,0,1,1,6408,5121,p),u.deleteProgram(g),u.deleteBuffer(v),p.join("")}(s),i="801621810",r="8016218135",o="80162181161",a=ei?.isIpad?[["a7",o,12],["a8",r,15],["a8x",r,15],["a9",r,15],["a9x",r,15],["a10",r,15],["a10x",r,15],["a12",i,15],["a12x",i,15],["a12z",i,15],["a14",i,15],["m1",i,15]]:[["a7",o,12],["a8",r,12],["a9",r,15],["a10",r,15],["a11",i,15],["a12",i,15],["a13",i,15],["a14",i,15],["a15",i,15],["a16",i,15],["a17",i,15]];let c;return n==="80162181255"?c=a.filter(([,,u])=>u>=14):(c=a.filter(([,u])=>u===n),c.length||(c=a)),c.map(([u])=>`apple ${u} gpu`)}class Ff extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}const fc=[],Nf=[];function WD(s,e){if(s===e)return 0;const t=s;s.length>e.length&&(s=e,e=t);let n=s.length,i=e.length;for(;n>0&&s.charCodeAt(~-n)===e.charCodeAt(~-i);)n--,i--;let r,o=0;for(;o<n&&s.charCodeAt(o)===e.charCodeAt(o);)o++;if(n-=o,i-=o,n===0)return i;let a,c,u=0,d=0,l=0;for(;d<n;)Nf[d]=s.charCodeAt(o+d),fc[d]=++d;for(;l<i;)for(r=e.charCodeAt(o+l),a=l++,u=l,d=0;d<n;d++)c=r===Nf[d]?a:a+1,a=fc[d],u=fc[d]=a>u?c>u?u+1:c:c>a?a+1:c;return u}function jD(s){return s!=null}const XD=({mobileTiers:s=[0,15,30,60],desktopTiers:e=[0,15,30,60],override:t={},glContext:n,failIfMajorPerformanceCaveat:i=!1,benchmarksURL:r="https://unpkg.com/detect-gpu@5.0.38/dist/benchmarks"}={})=>dc(void 0,void 0,void 0,function*(){const o={};if(Og)return{tier:0,type:"SSR"};const{isIpad:a=!!ei?.isIpad,isMobile:c=!!ei?.isMobile,screenSize:u=window.screen,loadBenchmarks:d=M=>dc(void 0,void 0,void 0,function*(){const E=yield fetch(`${r}/${M}`).then(w=>w.json());if(parseInt(E.shift().split(".")[0],10)<4)throw new Ff("Detect GPU benchmark data is out of date. Please update to version 4x");return E})}=t;let{renderer:l}=t;const h=(M,E,w,C,y)=>({device:y,fps:C,gpu:w,isMobile:c,tier:M,type:E});let f,g="";if(l)l=Uf(l),f=[l];else{const M=n||function(w,C=!1){const y={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:C,powerPreference:"high-performance",stencil:!1};w&&delete y.powerPreference;const b=window.document.createElement("canvas"),U=b.getContext("webgl",y)||b.getContext("experimental-webgl",y);return U??void 0}(ei?.isSafari12,i);if(!M)return h(0,"WEBGL_UNSUPPORTED");const E=ei?.isFirefox?null:M.getExtension("WEBGL_debug_renderer_info");if(l=E?M.getParameter(E.UNMASKED_RENDERER_WEBGL):M.getParameter(M.RENDERER),!l)return h(1,"FALLBACK");g=l,l=Uf(l),f=function(w,C,y){return C==="apple gpu"?GD(w,C,y):[C]}(M,l,c)}const v=(yield Promise.all(f.map(function(M){var E;return dc(this,void 0,void 0,function*(){const w=(re=>{const N=c?["adreno","apple","mali-t","mali","nvidia","powervr","samsung"]:["intel","apple","amd","radeon","nvidia","geforce","adreno"];for(const Y of N)if(re.includes(Y))return Y})(M);if(!w)return;const C=`${c?"m":"d"}-${w}${a?"-ipad":""}.json`,y=o[C]=(E=o[C])!==null&&E!==void 0?E:d(C);let b;try{b=yield y}catch(re){if(re instanceof Ff)throw re;return}const U=function(re){var N;const Y=(re=re.replace(/\([^)]+\)/,"")).match(/\d+/)||re.match(/(\W|^)([A-Za-z]{1,3})(\W|$)/g);return(N=Y?.join("").replace(/\W|amd/g,""))!==null&&N!==void 0?N:""}(M);let z=b.filter(([,re])=>re===U);z.length||(z=b.filter(([re])=>re.includes(M)));const P=z.length;if(P===0)return;const O=M.split(/[.,()\[\]/\s]/g).sort().filter((re,N,Y)=>N===0||re!==Y[N-1]).join(" ");let F,[k,,,,j]=P>1?z.map(re=>[re,WD(O,re[2])]).sort(([,re],[,N])=>re-N)[0][0]:z[0],D=Number.MAX_VALUE;const{devicePixelRatio:K}=window,q=u.width*K*u.height*K;for(const re of j){const[N,Y]=re,ae=N*Y,le=Math.abs(q-ae);le<D&&(D=le,F=re)}if(!F)return;const[,,te,ve]=F;return[D,te,k,ve]})}))).filter(jD).sort(([M=Number.MAX_VALUE,E],[w=Number.MAX_VALUE,C])=>M===w?E-C:M-w);if(!v.length){const M=VD.find(E=>l.includes(E));return M?h(0,"BLOCKLISTED",M):h(1,"FALLBACK",`${l} (${g})`)}const[,m,p,x]=v[0];if(m===-1)return h(0,"BLOCKLISTED",p,m,x);const _=c?s:e;let S=0;for(let M=0;M<_.length;M++)m>=_[M]&&(S=M);return h(S,"BENCHMARK",p,m,x)});oe.registerPlugin(Nr);class Qe{static async init(){this.registerSw(),this.isMobile=cm(),this.isSafari=um,this.isSafari&&document.documentElement.classList.add("is-safari"),this.isMobile&&document.documentElement.classList.add("is-mobile"),await O0(),await document.fonts.ready,await this.gpuCheck(),this.projects=await gc("projects"),await k0("lossy").then(()=>{Le.WEBP=!0}).catch(()=>{Le.WEBP=!1}),this.promise=new Promise(e=>{this.resolve=e}),Le.DEBUG&&Le.DEV&&rn(()=>import("../_astro/Debug.d8e80e75.js"),[]).then(e=>{this.debug=new e.Debug(this)}),Le.STUDIO&&Le.DEV&&rn(()=>import("../_astro/Studio.d1d68bc4.js"),[]).then(e=>{this.studio=new e.Studio(this)}),sD.init(),be.init(),jt.init(),kt.init(),ln.init(),ha.init({views:{default:sl,home:SD,about:DD,project:OD,error:kD},transitions:{default:BD,project:zD,work:HD}}),Tr.init(),Ar.init(),Ki.init(),Pe.init(),iD.init(),J.init(),Le.DEBUG&&Le.DEV&&(window.canvasInstance=J),this.resolve(),this.preload(),pe.emit(xe.APP_READY)}static currentProject=null;static workState=null;static imageWorker=new Worker("/workers/image-loader.js");static videoWorker=new Worker("/workers/video-loader.js");static async preload(){ha.preload("/"),ha.preload("/about/"),(await gc("projects")).forEach(t=>{ha.preload(`/${t.id}/`)})}static registerSw(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{e.update()}).catch(e=>{console.log("SW registration failed: ",e)})})}static async gpuCheck(){try{const e=await XD();Le.GPU_TIER=e.tier}catch(e){console.error("Error fetching GPU tier:",e)}Le.LOW_RES=Le.GPU_TIER<3}}Qe.init();export{be as A,pe as E,St as O,xe as a,xt as d};
